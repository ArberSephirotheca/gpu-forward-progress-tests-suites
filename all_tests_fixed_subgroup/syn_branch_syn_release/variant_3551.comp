#version 460

#ifndef REDUCER
#define _GLF_ZERO(X, Y)                   (Y)
#define _GLF_ONE(X, Y)                    (Y)
#define _GLF_FALSE(X, Y)                  (Y)
#define _GLF_TRUE(X, Y)                   (Y)
#define _GLF_IDENTITY(X, Y)               (Y)
#define _GLF_DEAD(X)                      (X)
#define _GLF_FUZZED(X)                    (X)
#define _GLF_WRAPPED_LOOP(X)              X
#define _GLF_WRAPPED_IF_TRUE(X)           X
#define _GLF_WRAPPED_IF_FALSE(X)          X
#define _GLF_SWITCH(X)                    X
#define _GLF_MAKE_IN_BOUNDS_INT(IDX, SZ)  clamp(IDX, 0, SZ - 1)
#define _GLF_MAKE_IN_BOUNDS_UINT(IDX, SZ) clamp(IDX, 0u, SZ - 1u)
#endif


layout(set = 0, binding = 1) uniform buf1 {
 vec2 injectionSwitch;
};
#extension GL_KHR_shader_subgroup_ballot : enable
#extension GL_KHR_shader_subgroup_vote : enable
#extension GL_KHR_shader_subgroup_basic : enable
#extension GL_KHR_memory_scope_semantics : enable
layout(set = 0, binding = 0) buffer Buf {
 uint buf[];
};
layout(local_size_x = 128, local_size_y = 1, local_size_z = 1) in;
void main()
{
 uint subgroup_id = gl_SubgroupID;
uint subgroup_size = 16;
 uint subgroup_local_id = gl_SubgroupInvocationID;
 uint num_workgroup = gl_NumWorkGroups.x;
 uint workgroup_size = gl_WorkGroupSize.x;
 uint workgroup_id = gl_WorkGroupID.x;
 uint workgroup_base = workgroup_size * workgroup_id;
 uint virtual_gid = workgroup_base + subgroup_id * subgroup_size + subgroup_local_id;
 uint next_virtual_gid = workgroup_base + subgroup_id * subgroup_size + ((subgroup_local_id + 1) % subgroup_size);
 buf[virtual_gid] = 1;
 if(subgroup_local_id + 1 < subgroup_size)
  {
   switch(_GLF_SWITCH(int(_GLF_ZERO(0.0, injectionSwitch.x))))
    {
     case 0:
     case 30:
     case 41:
     int i = 0;
     case 37:
     case 93:
     atomicStore(buf[next_virtual_gid], uint(2), 4, 64, 4);
     break;
     case 76:
     for(     -85.63;
 (i >= 77187); (uvec2(54301u, 59200u) >> subgroup_local_id))
      {
       mat3 _GLF_SWITCH_0_0v[50], _GLF_SWITCH_0_1v[41];
       if(false)
        {
        }
       while((false ? true : true))
        {
         switch(_GLF_SWITCH(0))
          {
           case 20:
           mat3x2 _GLF_SWITCH_4_0v, _GLF_SWITCH_4_1v;
           case 0:
           case 37:
           case 35:
           case 51:
           case 22:
           switch(_GLF_SWITCH(0))
            {
             case 33:
             bvec4 _GLF_SWITCH_2_0v, _GLF_SWITCH_2_1v;
             case 25:
             (bvec3(false, false, true) , true);
             case 0:
             case 52:
             case 46:
             case 41:
             case 29:
             case 22:
             case 42:
             case 75:
             case 1:
             switch(_GLF_SWITCH(int(_GLF_ZERO(0.0, injectionSwitch.x))))
              {
               case 18:
               bvec3(true, false, false);
               case 0:
               case 19:
               case 75:
               case 10:
               case 91:
               case 79:
               uvec2 _GLF_SWITCH_0_2v, _GLF_SWITCH_0_3v;
               break;
               case 59:
               mat4(8253.3267, -3.9, -38.65, -2280.1887, 417.310, -39.53, 1.1, -294.047, -222.844, -0.9, 82.44, -4.3, 7348.5069, 39.45, 59.99, -6.7);
               case 72:
               bvec3 _GLF_SWITCH_1_0v;
               default:
               1;
              }
             break;
             default:
             1;
            }
           break;
           case 17:
           (- 43905);
           default:
           1;
          }
        }
       (-36.42 - mat3x4(-41.01, -3.4, -273.059, -51.12, -1.9, 8.0, 7423.8259, -850.665, -7.2, 179.916, -8349.4434, -7.8));
       ;
       if((atomicXor(subgroup_size, workgroup_size) < (workgroup_id ++)))
        {
         switch(_GLF_SWITCH((0 | 0)))
          {
           case 58:
           ivec4 _GLF_SWITCH_3_0v[27];
           case 0:
           case 22:
           case 62:
           case 45:
           case 20:
           case 64:
           case 81:
           case 80:
           case 11:
           case 6:
           {
            switch(_GLF_SWITCH(0))
             {
              case 47:
              uvec2 _GLF_SWITCH_3_0v[95], _GLF_SWITCH_3_1v, _GLF_SWITCH_3_2v;
              case 0:
              case 43:
              vec4 _GLF_SWITCH_0_4v;
              greaterThanEqual(uvec2(134315u, 50074u), uvec2(97486u, 176361u)).tts;
              case 25:
              case 2:
              bvec3(true, false, true);
              case 24:
              uvec3 _GLF_SWITCH_0_5v, _GLF_SWITCH_0_6v, _GLF_SWITCH_0_7v;
              case 38:
              case 49:
              case 15:
              case 86:
              int _GLF_SWITCH_0_8v;
              case 21:
              bvec3(true, true, true);
              break;
              case 82:
              float _GLF_SWITCH_3_3v[9], _GLF_SWITCH_3_4v, _GLF_SWITCH_3_5v;
              case 44:
              mat4 _GLF_SWITCH_3_6v, _GLF_SWITCH_3_7v, _GLF_SWITCH_3_8v;
              default:
              1;
             }
           }
           break;
           default:
           1;
          }
        }
       else
        {
         switch(_GLF_SWITCH(0))
          {
           case 64:
           bvec4(false, false, false, true);
           case 0:
           case 74:
           inverse(mat3(90.96, -8.1, 2275.8626, -5771.6871, -3.8, 6.9, 5654.1319, -5061.7489, 25.79));
           case 43:
           mat3(695.257, -83.37, 80.86, -1797.0178, -6.0, 5668.5773, 7341.4140, -25.76, 7.9);
           case 70:
           {
            (workgroup_size | packSnorm4x8(cos(vec4(34.20, -5622.5029, 73.02, 797.478))));
           }
           {
            ivec4(-10495, 97996, 36333, 33287);
            bvec3(true, false, true);
            mat3(-98.31, -5543.6450, 6186.2808, -1.1, -34.88, -9.6, -6.5, -3.2, -6.5);
            bvec4 _GLF_SWITCH_0_9v[58], _GLF_SWITCH_0_10v;
            vec2 _GLF_SWITCH_0_11v, _GLF_SWITCH_0_12v;
            intBitsToFloat(ivec2(78657, 77699));
            ;
            ;
            mat2x3 _GLF_SWITCH_0_13v[77], _GLF_SWITCH_0_14v[60], _GLF_SWITCH_0_15v;
           }
           false;
           case 44:
           case 94:
           mat4 _GLF_SWITCH_0_16v[95], _GLF_SWITCH_0_17v, _GLF_SWITCH_0_18v;
           while(true)
            {
             switch(_GLF_SWITCH((0 & 51907)))
              {
               case 34:
               mat2x3(-26.13, -1.6, 8.7, 36.05, -8.3, -21.87);
               case 56:
               abs(ivec2(-61070, 55358));
               case 0:
               case 50:
               case 98:
               case 82:
               case 57:
               switch(_GLF_SWITCH(0))
                {
                 case 0:
                 case 38:
                 case 18:
                 case 55:
                 case 49:
                 case 32:
                 case 89:
                 case 78:
                 case 57:
                 mat4x3(-1060.4782, 8.7, 3761.0156, -2520.0882, 0.3, -16.59, 6627.0948, 8124.2611, -1957.5277, 6.8, 3682.1683, -9140.2780);
                 break;
                 default:
                 1;
                }
               break;
               case 69:
               inverse(mat2(9.0, -5.0, -6.2, 688.531));
               default:
               1;
              }
            }
           mat3(-212.409, -0.7, -499.705, -2888.2832, -2.9, -851.372, 0.6, 9212.5098, 4.1);
           break;
           case 49:
           mat3(43.69, -6.0, -3180.5750, 4.0, 979.712, 7.4, 390.860, 55.38, -5.0);
           case 84:
           mat2(((-4590.8724 - mat3x2(-329.378, -1.1, 7.8, 9.3, -30.79, 77.31)) - length(vec3(-22.36, 4.3, 7419.0138))));
           default:
           1;
          }
        }
       mat2x3 _GLF_SWITCH_0_19v;
      }
     default:
     1;
    }
  }
 else
  {
   atomicStore(buf[next_virtual_gid], uint(2), 4, 64, 4);
  }
}
