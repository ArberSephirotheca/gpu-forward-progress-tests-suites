#version 460

// Contents of injectionSwitch: [0.0, 1.0]
layout(set = 0, binding = 1) uniform buf1 {
 vec2 injectionSwitch;
};
#extension GL_KHR_shader_subgroup_ballot : enable
#extension GL_KHR_shader_subgroup_vote : enable
#extension GL_KHR_shader_subgroup_basic : enable
layout(set = 0, binding = 0) buffer Buf {
 uint buf[];
};
layout(local_size_x = 128, local_size_y = 1, local_size_z = 1) in;
void main()
{
 uint subgroup_id = gl_SubgroupID;
 uint subgroup_size = gl_SubgroupSize;
 uint subgroup_local_id = gl_SubgroupInvocationID;
 uint num_workgroup = (((false ? (uvec3(171971u, 193224u, 183989u)) : (max((gl_NumWorkGroups), (gl_NumWorkGroups))) >> uvec3(0u, (clamp(0u, 0u, 0u)), 0u)))).x;
 uint workgroup_size = (~ (~ (gl_WorkGroupSize))).x;
 uint workgroup_id = (~ ((uvec3(0u, 0u, 0u) | (((~ ((uvec3(0u, 0u, 0u) ^ (gl_WorkGroupID)))) | (~ ((uvec3(0u, 0u, 0u) ^ (gl_WorkGroupID))))))))).x;
 uint workgroup_base = (min(workgroup_size, workgroup_size)) * workgroup_id;
 uint virtual_gid = ((workgroup_base + subgroup_id * ((((((injectionSwitch.x < injectionSwitch.y)) ? (max(subgroup_size, subgroup_size)) : (subgroup_id)))) ^ 0u) + ((((subgroup_local_id)) + 0u) | (((uint(uint((subgroup_local_id) ^ uint((injectionSwitch.x))))))))) / uint((injectionSwitch.y)));
 uint next_virtual_gid = (0u + (workgroup_base + ((uint(((uvec2(clamp((~ (~ (((subgroup_id * subgroup_size) | (subgroup_id * (((bool(bool(true))) ? subgroup_size : (workgroup_id)))))))), (((uint((min(uvec2(((true ? (max((uint(uvec2(subgroup_id, 1u))), subgroup_id)) * (((false ? (packSnorm4x8(step(vec4(- 31.64, - 9.7, 252.122, 729.791), vec4(8.9, - 8.1, - 208.526, - 7.1)))) : 0u ^ ((min(subgroup_size, subgroup_size)))))) : (subgroup_id))), 1u), uvec2(((true ? (max((uint(uvec2(subgroup_id, 1u))), subgroup_id)) * (((false ? (packSnorm4x8(step(vec4(- 31.64, - 9.7, 252.122, 729.791), vec4(8.9, - 8.1, - 208.526, - 7.1)))) : 0u ^ ((min(subgroup_size, subgroup_size)))))) : (subgroup_id))), 1u))))) / 1u)), subgroup_id * subgroup_size), 0u)) - uvec2(0u, 0u))))) + ((((~ ((false ? ((workgroup_base - ((uvec4(12090u, 169352u, 4211u, 153913u).p) | (uvec4(12090u, (0u | (169352u)), 4211u, 153913u).p)))) : (~ ((((false ? (uint((((injectionSwitch.x < injectionSwitch.y)) && (true)))) : ((min(((uint(uvec3(uint(uvec3(((min(((0u << (uint(8u))) + (((true ? subgroup_local_id + 1 : (subgroup_size))))), (0u + (((0u << (uint(8u))) + ((((1u * (true ? subgroup_local_id + 1 : (subgroup_size)))))))))))), 0u, 0u)), 1u, 0u)))), ((((min(((0u << (uint(8u))) + (((true ? subgroup_local_id + 1 : (subgroup_size))))), (0u + (((0u << (uint(8u))) + (((((true ? subgroup_local_id + 1 : (subgroup_size))))) - 0u)))))))) - 0u))) % ((((max(((min(true ? subgroup_size : (workgroup_id), ((true ? subgroup_size : (((workgroup_id)) | 0u)) + 0u)))), ((((min(true ? subgroup_size : (workgroup_id), true ? subgroup_size : (workgroup_id)))) >> 0u))))) | (((((min(true ? subgroup_size : (workgroup_id), true ? subgroup_size : (workgroup_id)))) ^ 0u))))))))) | (((true ? ((false ? (uint(true)) : (max(((max(((max(uint(uvec4((((((((0u << (uint(8u))) | (0u << (uint(8u))))) >> 0u)) + (((true ? subgroup_local_id + (min(1, (1 * (1)))) : (subgroup_size)))))) % ((((false || ((! (! (false || (true))))))) ? subgroup_size : (workgroup_id))), 1u, 1u, (1u * (0u)))), uint(uvec4((((~ (~ ((0u << (uint(8u))) + (~ (~ ((((true ? subgroup_local_id + (min(1, (1 * (1)))) : (subgroup_size)))))))))))) % (((false || (true)) ? subgroup_size : (workgroup_id))), 1u, 1u, 0u))))), (~ (~ ((((0u << (min((uint(8u)), ((~ (~ ((clamp(uint(uvec4((uint(8u)), 0u, 1u, 0u)), uint(uvec4((uint(8u)), 0u, 1u, 0u)), uint(uvec4((uint(8u)), 0u, 1u, 0u))))))))))) + (((true ? subgroup_local_id + 1 : (subgroup_size)))))) % (((clamp(((true ? subgroup_size : (workgroup_id))), ((true ? subgroup_size : (workgroup_id))), ((true ? subgroup_size : (workgroup_id)))))) ^ uint((injectionSwitch.x))))))))), (((uint(uvec3(((max((((0u | ((0u ^ ((clamp((0u << ((~ (~ ((max(uint(8u), uint(8u)))))))) + (((true ? subgroup_local_id + 1 : (subgroup_size)))), (0u ^ ((((false ? (subgroup_id) : 0u << (uint(8u))))) + (((true ? subgroup_local_id + 1 : (subgroup_size)))))), ((((0u ^ ((max(uint(uint((0u << (uint(8u))) + (((true ? subgroup_local_id + 1 : (subgroup_size)))))), uint(uint((0u << (uint(8u))) + (((true ? subgroup_local_id + 1 : (subgroup_size)))))))))))) | ((0u << (uint(8u))) + (((true ? subgroup_local_id + 1 : (subgroup_size)))))))))))))) % ((true ? subgroup_size : ((uint(uvec3(workgroup_id, 0u, 1u)))))), (~ (~ ((((((0u) >> uint((injectionSwitch.x))) << (clamp((uint(8u)), (uint(8u)), (uint(8u))))) + (((((true ? subgroup_local_id + 1 : (subgroup_size))))) | ((((true ? subgroup_local_id + 1 : (subgroup_size)))))))) % (((uint(uint(true ? subgroup_size : (uint(uint((~ (~ ((workgroup_id)))))))))))))))))), 1u, 1u))) | (uint(uvec3(((max((((clamp((0u << ((~ (~ (min(((((max(uint(8u), uint(8u))))) << 0u), ((max(uint(8u), uint(8u)))))))))) + (((((((true) || false)) && true) ? subgroup_local_id + 1 : (subgroup_size)))), (0u ^ ((((false ? (subgroup_id) : 0u << (uint(8u))))) + (((true ? subgroup_local_id + 1 : (subgroup_size)))))), ((((0u ^ ((max(uint(uint((((0u) << uint((injectionSwitch.x))) << (uint(8u))) + (((true ? subgroup_local_id + 1 : (subgroup_size)))))), uint(uint((0u << (uint(8u))) + (((true ? subgroup_local_id + 1 : (subgroup_size)))))))))))) | ((0u << (uint(8u))) + (((true ? subgroup_local_id + 1 : (subgroup_size)))))))))) % (((! (! (true))) ? subgroup_size : ((uint(uvec3(workgroup_id, 0u, 1u)))))), (~ (~ ((((((0u) >> uint((injectionSwitch.x))) << (uint(8u))) + (((true ? subgroup_local_id + 1 : (subgroup_size)))))) % ((true ? subgroup_size : (workgroup_id))))))))), 1u, 1u))))))))) : (((119009u)) ^ 0u)))))))))) + 0u))));
 buf[virtual_gid] = ((int(ivec4((~ ((int(int((int(ivec2(~ (~ ((clamp(0 ^ ((~ (~ ((((((((1 * (0 << (int(1)))))) / 1) ^ ((~ (1))))) | ((((1 * (0 << (int(1))))) ^ ((~ (1)))))))))), 0 ^ ((~ (~ (((0 + ((((((max(1 * (0 << (int(1))), 1 * (0 << (int(1))))))) ^ ((~ (1))))) | ((((1 * (0 << (int(1))))) ^ ((~ (1)))))))))))), 0 ^ ((~ (~ ((((((1 * (0 << (int(1))))) ^ ((~ (1))))) | ((((((false ? (- 52995) : 1)) * (0 << (int(1))))) ^ ((~ (1)))))))))))))), 0)))))))), int((injectionSwitch.y)), 0, 1))));
 buf[next_virtual_gid] = 2;
}
