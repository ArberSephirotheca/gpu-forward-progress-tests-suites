#version 460

// Contents of injectionSwitch: [0.0, 1.0]
layout(set = 0, binding = 1) uniform buf1 {
 vec2 injectionSwitch;
};
#extension GL_KHR_shader_subgroup_ballot : enable
#extension GL_KHR_shader_subgroup_vote : enable
#extension GL_KHR_shader_subgroup_basic : enable
#extension GL_KHR_memory_scope_semantics : enable
layout(set = 0, binding = 0) buffer Buf {
 uint buf[];
};
layout(local_size_x = 128, local_size_y = 1, local_size_z = 1) in;
void main()
{
 uvec3 GLF_merged3_0_1_13_1_1_11_2_1_12subgroup_sizevirtual_gidworkgroup_id;
 uvec2 GLF_merged2_0_1_13_1_1_14num_workgroupworkgroup_size;
 uint subgroup_id = gl_SubgroupID;
 uint subgroup_size = gl_SubgroupSize;
 GLF_merged3_0_1_13_1_1_11_2_1_12subgroup_sizevirtual_gidworkgroup_id.x = subgroup_size;
 uint subgroup_local_id = gl_SubgroupInvocationID;
 uint num_workgroup = (max(gl_NumWorkGroups, (min(gl_NumWorkGroups, gl_NumWorkGroups)))).x;
 GLF_merged2_0_1_13_1_1_14num_workgroupworkgroup_size.x = num_workgroup;
 uint workgroup_size = (((min(((gl_WorkGroupSize) << (min((uvec3(0u, 0u, 0u) >> (uvec3(7u))), (uvec3(0u, 0u, 0u) >> (uvec3(7u)))))).x, (((0u ^ 0u) + (uint((min((min(uvec4((uvec3(0u, 0u, 0u) | (gl_WorkGroupSize)).x, 0u, 1u, 0u), uvec4((((uvec3(uvec4((uvec3(0u, 0u, 0u)) | uvec3(0u, 0u, 0u), 1u)))) | (gl_WorkGroupSize)).x, 0u, 1u, 0u))), (max(((false ? ((uvec4(80757u, 42492u, 18690u, 164179u) & GLF_merged2_0_1_13_1_1_14num_workgroupworkgroup_size.g)) : ((true ? uvec4(gl_WorkGroupSize.x, 0u, 1u, 0u) : (max((uvec4(138551u, 26608u, 18274u, 13754u)), (uvec4(138551u, 26608u, 18274u, 13754u)))))))), ((true ? uvec4(gl_WorkGroupSize.x, 0u, 1u, 0u) : (uvec4(138551u, 26608u, 18274u, ((true ? 13754u : (subgroup_local_id)))))))))))))))))) | ((min(((((((gl_WorkGroupSize) << (min((uvec3(0u, 0u, 0u) >> ((((clamp(uvec3(7u), ((uvec3(7u)) | uvec3(0u, 0u, 0u)), uvec3(7u)))) | ((uvec3(0u, 0u, 0u) | (uvec3(7u))))))), (uvec3(0u, 0u, 0u) >> (uvec3(7u))))))) << uvec3((injectionSwitch.x), (injectionSwitch.x), (injectionSwitch.x))).x) - uint((injectionSwitch.x))), (((((0u ^ 0u) + (((uint((min(uvec4((uvec3(0u, 0u, 0u) | (gl_WorkGroupSize)).x, 0u, 1u, 0u), (max(((true ? uvec4(gl_WorkGroupSize.x, 0u, 1u, 0u) : (max((uvec4(138551u, 26608u, 18274u, 13754u)), (uvec4(138551u, 26608u, 18274u, 13754u)))))), ((true ? uvec4(gl_WorkGroupSize.x, 0u, 1u, 0u) : (uvec4(138551u, 26608u, (clamp(18274u, (clamp(((18274u) / 1u), 18274u, 18274u)), 18274u)), 13754u)))))))))) - 0u))) | (0u | 0u))))))));
 GLF_merged2_0_1_13_1_1_14num_workgroupworkgroup_size.y = workgroup_size;
 uint workgroup_id = (((((injectionSwitch.x < injectionSwitch.y)) ? max(((uint(uint(uint(uvec4((~ ((uint((((false ? (uvec4(160980u, 56635u, 84368u, 126667u)) : (max((uvec4(~ (gl_WorkGroupID.x), (0u >> (uint(0u))), 1u, 0u)), ((min((true ? (uvec4(~ (gl_WorkGroupID.x), (0u >> (uint(0u))), 1u, 0u)) : (uvec4(90282u, 45355u, 166970u, 12849u))), (uvec4(0u, 0u, 0u, 0u) ^ ((true ? (uvec4(~ (gl_WorkGroupID.x), (0u >> (uint(0u))), 1u, 0u)) : (uvec4(90282u, 45355u, 166970u, 12849u)))))))))))) >> uvec4(0u, 0u, (uint(uvec4(0u, 0u, 1u, 1u))), 0u)))))), 0u, 1u, (1u & (0u + (1u))))))))), (((((mix(float((min((((false ? ((- 9.1 / - 218.006)) : (max(float(mat2x3(injectionSwitch.x, 1.0, abs(1.0), 0.0, 0.0, 1.0)), float(mat2x3(injectionSwitch.x, 1.0, abs(1.0), 0.0, 0.0, 1.0))))))), (float(mat2x3(injectionSwitch.x, 1.0, abs(1.0), 0.0, 0.0, 1.0)))))), float((- 39.80)), (((injectionSwitch.x > injectionSwitch.y)) || (bool(false))))) > injectionSwitch.y)) ? ((subgroup_id % (~ (((~ (((subgroup_id) | (((((subgroup_id) | 0u)) - 0u))))) - 0u))))) : gl_WorkGroupID.x))) : (num_workgroup))));
 GLF_merged3_0_1_13_1_1_11_2_1_12subgroup_sizevirtual_gidworkgroup_id.z = (uint(((~ (~ (max(((uint(workgroup_id)) | ((((1u * (uint(workgroup_id))) | ((~ (~ (1u * (uint(workgroup_id)))))))))), ((uint(workgroup_id)) | ((((1u * (uint(workgroup_id))) | ((~ (~ (1u * (uint(workgroup_id)))))))))))))))));
 uint workgroup_base = (clamp((uint(uvec4(GLF_merged2_0_1_13_1_1_14num_workgroupworkgroup_size.y, (uint((uint(uint(uint(0u)))))), 1u, 1u))), ((GLF_merged2_0_1_13_1_1_14num_workgroupworkgroup_size) / ((uvec2(1u, 1u) << (uvec2(5u))) >> (uvec2(5u)))).y, ((max(((0u | (GLF_merged2_0_1_13_1_1_14num_workgroupworkgroup_size.y))), ((true ? (GLF_merged2_0_1_13_1_1_14num_workgroupworkgroup_size.y) : (subgroup_local_id))))) / 1u))) * GLF_merged3_0_1_13_1_1_11_2_1_12subgroup_sizevirtual_gidworkgroup_id.z;
 uint virtual_gid = workgroup_base + ((subgroup_id * GLF_merged3_0_1_13_1_1_11_2_1_12subgroup_sizevirtual_gidworkgroup_id.x) / 1u) + subgroup_local_id;
 GLF_merged3_0_1_13_1_1_11_2_1_12subgroup_sizevirtual_gidworkgroup_id.y = virtual_gid;
 uint next_virtual_gid = (~ (~ ((clamp(workgroup_base + subgroup_id * GLF_merged3_0_1_13_1_1_11_2_1_12subgroup_sizevirtual_gidworkgroup_id.x, ((((false ? (workgroup_id) : workgroup_base)) | ((~ (((~ (min(((false ? (workgroup_id) : workgroup_base)), ((false ? (workgroup_id) : workgroup_base))))) | (~ ((false ? ((uint(uvec4(((workgroup_id) << 0u), 0u, 1u, 0u)))) : workgroup_base))))))))) + subgroup_id * ((false ? (GLF_merged3_0_1_13_1_1_11_2_1_12subgroup_sizevirtual_gidworkgroup_id) : GLF_merged3_0_1_13_1_1_11_2_1_12subgroup_sizevirtual_gidworkgroup_id)).x, ((clamp((workgroup_base + subgroup_id * ((((GLF_merged3_0_1_13_1_1_11_2_1_12subgroup_sizevirtual_gidworkgroup_id) | (GLF_merged3_0_1_13_1_1_11_2_1_12subgroup_sizevirtual_gidworkgroup_id)).x) - 0u)), (clamp((workgroup_base + subgroup_id * ((GLF_merged3_0_1_13_1_1_11_2_1_12subgroup_sizevirtual_gidworkgroup_id) | (GLF_merged3_0_1_13_1_1_11_2_1_12subgroup_sizevirtual_gidworkgroup_id)).x), (workgroup_base + subgroup_id * (clamp((uvec3(uvec4((((((injectionSwitch.x < (0.0 + (injectionSwitch.y)))) ? (GLF_merged3_0_1_13_1_1_11_2_1_12subgroup_sizevirtual_gidworkgroup_id) : (uvec3(39779u, 194306u, 180535u)))) | (GLF_merged3_0_1_13_1_1_11_2_1_12subgroup_sizevirtual_gidworkgroup_id)), 0u))), (((((injectionSwitch.x < injectionSwitch.y)) ? (GLF_merged3_0_1_13_1_1_11_2_1_12subgroup_sizevirtual_gidworkgroup_id) : (uvec3((((0u << (uint(4u))) ^ (((max(39779u, 39779u))))) >> 0u), 194306u, 180535u)))) | (GLF_merged3_0_1_13_1_1_11_2_1_12subgroup_sizevirtual_gidworkgroup_id)), (min((((((true ? ((injectionSwitch.x < injectionSwitch.y)) ? (GLF_merged3_0_1_13_1_1_11_2_1_12subgroup_sizevirtual_gidworkgroup_id) : (uvec3(39779u, 194306u, 180535u)) : (GLF_merged3_0_1_13_1_1_11_2_1_12subgroup_sizevirtual_gidworkgroup_id))))) | (GLF_merged3_0_1_13_1_1_11_2_1_12subgroup_sizevirtual_gidworkgroup_id)), ((((((((max(injectionSwitch, injectionSwitch))) - log(exp(vec2(0.0, 0.0)))).x < injectionSwitch.y)) ? (GLF_merged3_0_1_13_1_1_11_2_1_12subgroup_sizevirtual_gidworkgroup_id) : (uvec3(((39779u) >> 0u), 194306u, 180535u)))) | (GLF_merged3_0_1_13_1_1_11_2_1_12subgroup_sizevirtual_gidworkgroup_id)))))).x), ((((clamp(workgroup_base, workgroup_base, workgroup_base))) + 0u) + subgroup_id * ((GLF_merged3_0_1_13_1_1_11_2_1_12subgroup_sizevirtual_gidworkgroup_id) | (GLF_merged3_0_1_13_1_1_11_2_1_12subgroup_sizevirtual_gidworkgroup_id)).x))), (workgroup_base + subgroup_id * ((uvec3(uvec4((min((GLF_merged3_0_1_13_1_1_11_2_1_12subgroup_sizevirtual_gidworkgroup_id), (((GLF_merged3_0_1_13_1_1_11_2_1_12subgroup_sizevirtual_gidworkgroup_id) | uvec3(0u, 0u, 0u))))), 1u))) | (GLF_merged3_0_1_13_1_1_11_2_1_12subgroup_sizevirtual_gidworkgroup_id)).x))) / 1u))) + ((subgroup_local_id + 1) % GLF_merged3_0_1_13_1_1_11_2_1_12subgroup_sizevirtual_gidworkgroup_id.x))));
 buf[GLF_merged3_0_1_13_1_1_11_2_1_12subgroup_sizevirtual_gidworkgroup_id.y] = 1;
 atomicStore(buf[next_virtual_gid], ((uint(2)) | (uint(2))), 4, 64, 0);
}
