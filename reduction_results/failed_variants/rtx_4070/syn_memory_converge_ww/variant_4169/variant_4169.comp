#version 460

// Contents of injectionSwitch: [0.0, 1.0]
layout(set = 0, binding = 1) uniform buf1 {
 vec2 injectionSwitch;
};
#extension GL_KHR_shader_subgroup_vote : enable
#extension GL_KHR_shader_subgroup_basic : enable
#extension GL_KHR_memory_scope_semantics : enable
#extension GL_EXT_maximal_reconvergence : enable
layout(set = 0, binding = 0) buffer Buf {
 uint buf[];
};
layout(set = 0, binding = 2) buffer WriteVal {
 uint write_val;
};
layout(local_size_x = 128, local_size_y = 1, local_size_z = 1) in;
void main()
{
 uint subgroup_id = gl_SubgroupID;
 uint subgroup_size = gl_SubgroupSize;
 uint subgroup_local_id = gl_SubgroupInvocationID;
 uint num_workgroup = gl_NumWorkGroups.x;
 uint workgroup_size = ((((min(((uvec3(1u, 1u, 1u) * ((((max((uvec3(((((clamp((gl_WorkGroupSize[0]), (gl_WorkGroupSize[0]), (gl_WorkGroupSize[0]))) / ((1u) ^ 0u))) | ((0u ^ (gl_WorkGroupSize[0])))), gl_WorkGroupSize[1], gl_WorkGroupSize[2])), ((max(uvec3(gl_WorkGroupSize[0], (0u ^ (gl_WorkGroupSize[1])), (((! (! (false))) ? (subgroup_local_id) : ((((0u + ((gl_WorkGroupSize[2]) << 0u)))) / 1u)))), ((uvec3(gl_WorkGroupSize[0], (0u ^ (gl_WorkGroupSize[1])), (((! (! (false))) ? (subgroup_local_id) : (~ (~ (((((gl_WorkGroupSize[2]) << 0u)) / 1u)))))))) | (((true ? uvec3(gl_WorkGroupSize[0], (0u ^ (gl_WorkGroupSize[1])), (((! (! (false))) ? (subgroup_local_id) : (~ (~ (((((gl_WorkGroupSize[2]) << 0u)) / 1u))))))) : (uvec3(169609u, 5710u, 112105u)))))))))))) | uvec3(0u, 0u, 0u))))), ((uvec3(1u, 1u, 1u) * ((((max((uvec3(((((clamp((gl_WorkGroupSize[0]), (gl_WorkGroupSize[0]), (gl_WorkGroupSize[0]))) / ((1u) ^ 0u))) | ((0u ^ (gl_WorkGroupSize[0])))), gl_WorkGroupSize[1], gl_WorkGroupSize[2])), ((max(uvec3(gl_WorkGroupSize[0], (0u ^ (gl_WorkGroupSize[1])), (((! (! (false))) ? (subgroup_local_id) : ((((0u + ((gl_WorkGroupSize[2]) << 0u)))) / 1u)))), ((uvec3(gl_WorkGroupSize[0], (0u ^ (gl_WorkGroupSize[1])), (((! (! (false))) ? (subgroup_local_id) : (~ (~ (((((gl_WorkGroupSize[2]) << 0u)) / 1u)))))))) | (((true ? uvec3(gl_WorkGroupSize[0], (0u ^ (gl_WorkGroupSize[1])), (((! (! (false))) ? (subgroup_local_id) : (~ (~ (((((gl_WorkGroupSize[2]) << 0u)) / 1u))))))) : (uvec3(169609u, 5710u, 112105u)))))))))))) | uvec3(0u, 0u, 0u)))))))) / uvec3(1u, 1u, 1u)) / (uvec3((max(uvec4(uvec3(1u, 1u, 1u), 0u), uvec4(uvec3(1u, 1u, 1u), 0u)))))).x;
 uint workgroup_id = gl_WorkGroupID.x;
 uint workgroup_base = (((false ? ((uint(uvec3(((false ? ((min(num_workgroup, num_workgroup))) : 193277u)), 0u, 1u)))) : 1u * ((max((uint(uvec3((((0u + (workgroup_size))) + (0u & 181469u)), 0u, 0u))) * workgroup_id, workgroup_size * (~ (~ (workgroup_id)))))))));
 uint subgroup_base = subgroup_id * subgroup_size;
 uint virtual_gid = ((~ (~ (((uint(((true ? uvec2(workgroup_base, 1u) : ((uvec2((clamp(73567u, 73567u, 73567u)), 176642u) ^ num_workgroup)))))) + ((max(uint(uvec2((uint(uvec2(((~ ((~ (~ ((1u * (~ (((((0u ^ (((subgroup_base) | (subgroup_base)))))) - 0u))))))))) / ((1u) / 1u)), 0u))), 0u)), uint(uvec2((uint(uvec2(subgroup_base, 0u))), 0u))))))))) ^ 0u) + subgroup_local_id;
 atomicStore(write_val, uint(virtual_gid), 4, 64, 0);
 uint read_val = ((false ? (subgroup_local_id) : atomicLoad(write_val, (((((clamp(4, 4, ((4) | ((clamp(4, 4, 4))))))) << 0) / 1)), 64, 0)));
 ((((((((((~ (~ (((~ (~ (((buf[virtual_gid] = uint(subgroupAllEqual(read_val))) >> 0u)))))))) ^ 0u)) + 0u)) / 1u) | 0u))) >> 0u);
}
