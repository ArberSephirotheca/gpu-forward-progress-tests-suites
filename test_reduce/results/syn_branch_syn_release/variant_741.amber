#!amber

SET ENGINE_DATA fence_timeout_ms 10000

SHADER compute test GLSL
#version 460

struct _GLF_struct_37 {
 bvec4 _f0;
 ivec4 _f1;
} ;

struct _GLF_struct_35 {
 float _f0;
 uint num_workgroup;
 ivec2 _f1;
 vec4 _f2;
} ;

struct _GLF_struct_36 {
 _GLF_struct_35 _f0;
} ;

struct _GLF_struct_34 {
 mat2x4 _f0;
 vec3 _f1;
 uvec4 _f2;
 mat3 _f3;
 mat3x4 _f4;
 mat4 _f5;
 bvec3 _f6;
} ;

struct _GLF_struct_32 {
 bvec3 _f0;
 bool _f1;
 bvec2 _f2;
 vec3 _f3;
 vec2 _f4;
 mat4 _f5;
} ;

struct _GLF_struct_31 {
 int _f0;
} ;

struct _GLF_struct_30 {
 bvec3 _f0;
} ;

struct _GLF_struct_33 {
 _GLF_struct_30 _f0;
 uvec2 _f1;
 uvec3 _f2;
 mat4x3 _f3;
 _GLF_struct_31 _f4;
 _GLF_struct_32 _f5;
} ;

struct _GLF_struct_38 {
 _GLF_struct_33 _f0;
 _GLF_struct_34 _f1;
 mat4x3 _f2;
 _GLF_struct_36 _f3;
 _GLF_struct_37 _f4;
} ;

struct _GLF_struct_28 {
 float _f0;
 uint virtual_gid;
} ;

struct _GLF_struct_26 {
 ivec3 _f0;
 uvec2 _f1;
 bvec2 _f2;
 ivec4 _f3;
 uvec3 _f4;
 ivec3 _f5;
} ;

struct _GLF_struct_27 {
 _GLF_struct_26 _f0;
 int _f1;
} ;

struct _GLF_struct_24 {
 int _f0;
 vec2 _f1;
 vec3 _f2;
 uvec2 _f3;
} ;

struct _GLF_struct_23 {
 mat3 _f0;
 mat3x2 _f1;
 mat3x4 _f2;
 uvec3 _f3;
 mat4x3 _f4;
 mat4x2 _f5;
 mat2x3 _f6;
} ;

struct _GLF_struct_22 {
 ivec2 _f0;
 vec2 _f1;
 uvec2 _f2;
 mat4 _f3;
} ;

struct _GLF_struct_21 {
 vec4 _f0;
 uvec3 _f1;
 bvec4 _f2;
} ;

struct _GLF_struct_25 {
 mat2 _f0;
 _GLF_struct_21 _f1;
 _GLF_struct_22 _f2;
 _GLF_struct_23 _f3;
 _GLF_struct_24 _f4;
} ;

struct _GLF_struct_19 {
 vec4 _f0;
 int _f1;
 mat4 _f2;
} ;

struct _GLF_struct_18 {
 vec2 _f0;
 ivec4 _f1;
} ;

struct _GLF_struct_20 {
 mat3 _f0;
 mat3x4 _f1;
 _GLF_struct_18 _f2;
 _GLF_struct_19 _f3;
} ;

struct _GLF_struct_29 {
 _GLF_struct_20 _f0;
 _GLF_struct_25 _f1;
 int _f2;
 ivec3 _f3;
 _GLF_struct_27 _f4;
 _GLF_struct_28 _f5;
 mat4 _f6;
} ;

struct _GLF_struct_15 {
 mat2 _f0;
} ;

struct _GLF_struct_16 {
 bvec4 _f0;
 _GLF_struct_15 _f1;
 uint subgroup_local_id;
 ivec3 _f2;
 ivec3 _f3;
} ;

struct _GLF_struct_17 {
 vec4 _f0;
 _GLF_struct_16 _f1;
 mat2 _f2;
 uint _f3;
 uint _f4;
 vec3 _f5;
 ivec4 _f6;
} ;

struct _GLF_struct_12 {
 bvec2 _f0;
 vec3 _f1;
} ;

struct _GLF_struct_11 {
 mat2x4 _f0;
 bvec3 _f1;
 mat4x3 _f2;
 uvec4 _f3;
 uint _f4;
 uvec2 _f5;
} ;

struct _GLF_struct_13 {
 _GLF_struct_11 _f0;
 bvec4 _f1;
 float _f2;
 _GLF_struct_12 _f3;
 vec4 _f4;
 ivec4 _f5;
} ;

struct _GLF_struct_9 {
 ivec3 _f0;
 bvec4 _f1;
 mat2 _f2;
 float _f3;
 uvec3 _f4;
} ;

struct _GLF_struct_8 {
 mat2x3 _f0;
} ;

struct _GLF_struct_7 {
 vec2 _f0;
 mat2x3 _f1;
 mat2x4 _f2;
} ;

struct _GLF_struct_10 {
 uint next_virtual_gid;
 vec4 _f0;
 _GLF_struct_7 _f1;
 _GLF_struct_8 _f2;
 _GLF_struct_9 _f3;
} ;

struct _GLF_struct_5 {
 mat2x3 _f0;
 mat3x2 _f1;
 mat4x2 _f2;
 mat3x2 _f3;
} ;

struct _GLF_struct_4 {
 float _f0;
 ivec4 _f1;
} ;

struct _GLF_struct_3 {
 uvec4 _f0;
 mat2 _f1;
} ;

struct _GLF_struct_2 {
 bvec3 _f0;
 vec3 _f1;
 bvec2 _f2;
 bool _f3;
 uvec4 _f4;
} ;

struct _GLF_struct_6 {
 _GLF_struct_2 _f0;
 _GLF_struct_3 _f1;
 int _f2;
 _GLF_struct_4 _f3;
 mat4x2 _f4;
 uint _f5;
 _GLF_struct_5 _f6;
} ;

struct _GLF_struct_0 {
 ivec3 _f0;
 mat4 _f1;
 float _f2;
 mat2x4 _f3;
 vec3 _f4;
 float _f5;
} ;

struct _GLF_struct_1 {
 _GLF_struct_0 _f0;
 mat3x4 _f1;
 mat3x2 _f2;
} ;

struct _GLF_struct_14 {
 ivec4 _f0;
 _GLF_struct_1 _f1;
 _GLF_struct_6 _f2;
 _GLF_struct_10 _f3;
 _GLF_struct_13 _f4;
 bvec2 _f5;
 vec3 _f6;
} ;

// Contents of injectionSwitch: [0.0, 1.0]
layout(set = 0, binding = 1) uniform buf1 {
 vec2 injectionSwitch;
};
#extension GL_KHR_shader_subgroup_ballot : enable
#extension GL_KHR_shader_subgroup_vote : enable
#extension GL_KHR_shader_subgroup_basic : enable
#extension GL_KHR_memory_scope_semantics : enable
layout(set = 0, binding = 0) buffer Buf {
 uint buf[];
};
layout(local_size_x = 128, local_size_y = 1, local_size_z = 1) in;
void main()
{
 if((false))
  barrier();
 if((false))
  barrier();
 uint subgroup_id = gl_SubgroupID;
 if((((false || ((false || ((bool(bvec3((injectionSwitch.x > injectionSwitch.y), false, false))))))))))
  {
   if((false))
    barrier();
   barrier();
  }
 if((((injectionSwitch.x > (min(injectionSwitch.y, injectionSwitch.y))))))
  {
   if(((! ((! (! (! ((true && (((! (((! (((((! (! (false))))) || false))) && true)))) || false))))))))))
    barrier();
   barrier();
  }
 if((false))
  barrier();
 if((((injectionSwitch.x > injectionSwitch.y))))
  barrier();
 if((false))
  {
   if((false))
    barrier();
   if((false))
    {
     if(((false || (((injectionSwitch.x > injectionSwitch.y))))))
      barrier();
     barrier();
    }
   if((((injectionSwitch.x > injectionSwitch.y))))
    barrier();
   barrier();
  }
 uint subgroup_size = gl_SubgroupSize;
 if((false))
  barrier();
 if((false))
  {
   if((false))
    barrier();
   barrier();
  }
 if((false))
  barrier();
 _GLF_struct_17 _GLF_struct_replacement_17 = _GLF_struct_17(vec4(1.0), _GLF_struct_16(bvec4(true), _GLF_struct_15(mat2(1.0)), gl_SubgroupInvocationID, ivec3(1), ivec3(1)), mat2(1.0), 1u, 1u, vec3(1.0), ivec4(1));
 if((false))
  barrier();
 if((false))
  barrier();
 _GLF_struct_38 _GLF_struct_replacement_38 = _GLF_struct_38(_GLF_struct_33(_GLF_struct_30(bvec3((true && (true)))), uvec2((uint(((uvec2(1u, (min(((~ ((~ (~ (~ ((0u))))))) | (0u)), 0u)))) * uvec2(1u, 1u))))), uvec3(1u), mat4x3(((((float(mat3x4(min(1.0, 1.0), 0.0, exp(0.0), (max((clamp((mix(float((227.387)), float((clamp(cos(determinant(mat2(0.0, 0.0, 1.0, 0.0))), cos(determinant(mat2(0.0, 0.0, 1.0, 0.0))), (float(mat4(cos(determinant(mat2(0.0, 0.0, 1.0, 0.0))), 1.0, 1.0, 0.0, 0.0, 0.0, 1.0, 0.0, 0.0, 0.0, 0.0, 0.0, 1.0, 1.0, 0.0, 0.0)))))), bool(true))), cos(determinant(mat2(0.0, 0.0, 1.0, (max(0.0, (clamp(((true ? 0.0 : (- 307.636))), 0.0, ((false ? (- 8.3) : 0.0))))))))), cos(determinant((transpose(transpose(mat2(0.0, 0.0, 1.0, 0.0)))))))), cos(determinant(mat2(0.0, 0.0, 1.0, 0.0))))), 1.0, 1.0, 0.0, 1.0, 1.0, 0.0, 1.0, 1.0))) - (((((float(vec2(0.0, 1.0))) - 0.0))) + 0.0))))), _GLF_struct_31(1), _GLF_struct_32(bvec3(true), true, (bvec2(bvec3(bvec2(true), false))), vec3(1.0), vec2(1.0), mat4(1.0))), _GLF_struct_34(mat2x4(1.0), vec3(1.0), uvec4(1u), mat3(1.0), mat3x4((0.0 + (((clamp((1.0), (1.0), (min((clamp((1.0), (1.0), (1.0))), (1.0))))) - 0.0)))), mat4((float(mat3(1.0, 1.0, 0.0, 1.0, 0.0, 1.0, 0.0, 1.0, 1.0)))), bvec3(true)), mat4x3((min((clamp(1.0, 1.0, 1.0)), 1.0))), _GLF_struct_36(_GLF_struct_35(1.0, (0u ^ ((((1u * (gl_NumWorkGroups.x))) << 0u))), ivec2((int((min(ivec3((min(1, 1)), (((~ (~ (1)))) >> (int((injectionSwitch.y)) ^ 1)), 1), (~ (~ (((ivec3(((max((~ (~ (min(1, ((1) | (1)))))), (min(min(1, ((1) | (1))), min(1, ((min((((((((1) | (1)) | ((1) | (1))) / 1))) | 0), (((1) | (1)) / 1)))))))))), ((1) / 1), (((((min((0 | (false ? (39764) : 1)), false ? (39764) : 1))))) >> 0))) | (ivec3(0, 0, 0) | ((ivec3((min(1, 1)), 1, (min(1, 1))))))))))))))), vec4(1.0))), _GLF_struct_37(bvec4(true), ivec4(1)));
 if((false))
  barrier();
 if((false))
  barrier();
 uint workgroup_size = ((gl_WorkGroupSize) | (gl_WorkGroupSize)).x;
 if((((((injectionSwitch.x > (max(injectionSwitch.y, injectionSwitch.y)))))) || false))
  {
   if((false))
    barrier();
   barrier();
   if((((((false) || false))) && true))
    barrier();
   if((false))
    barrier();
  }
 if((false))
  {
   if((false || ((true && ((! (! ((false)))))))))
    {
     if((false))
      barrier();
     barrier();
    }
   barrier();
  }
 if((((((false) && true))) && true))
  barrier();
 if((false))
  barrier();
 uint workgroup_id = (((min((clamp(gl_WorkGroupID, ((gl_WorkGroupID) | (gl_WorkGroupID)), gl_WorkGroupID)), ((gl_WorkGroupID) << uvec3((injectionSwitch.x), (injectionSwitch.x), (injectionSwitch.x))))).x) | ((max(gl_WorkGroupID.x, gl_WorkGroupID.x))));
 if((! (! (((bool(bool(false))))))))
  {
   if((false))
    {
     if((false))
      barrier();
     if((((injectionSwitch.x > injectionSwitch.y))))
      barrier();
     if((false))
      {
       if((false))
        barrier();
       barrier();
      }
     barrier();
    }
   barrier();
   if((((injectionSwitch.x > injectionSwitch.y))))
    barrier();
  }
 if((false))
  {
   if((false))
    barrier();
   if((((injectionSwitch.x > injectionSwitch.y))))
    barrier();
   barrier();
   if((false))
    barrier();
  }
 if((false))
  barrier();
 if((((injectionSwitch.x > injectionSwitch.y))))
  {
   if((false))
    barrier();
   if(((((max(((true ? ((false ? (injectionSwitch) : (mat2(1.0) * ((vec2((min((min(0.0, 0.0)), 0.0)), 0.0) + (injectionSwitch)))))).x : (- 8370.0098))), (mix(float(((true ? ((false ? (66.76) : ((false ? (injectionSwitch) : (max((vec2(0.0, 0.0) + (injectionSwitch)), (vec2(0.0, 0.0) + (injectionSwitch)))))).x)) : (- 7.1)))), float(((7505.3343 / 47.89))), bool(false))))) > (1.0 * (injectionSwitch.y))))))
    {
     if((((injectionSwitch.x > injectionSwitch.y))))
      barrier();
     barrier();
     if((false))
      barrier();
    }
   if((false))
    {
     if((false))
      barrier();
     if((false))
      barrier();
     if((false))
      {
       if(((! (! ((bool(bvec3(((injectionSwitch.x > injectionSwitch.y)), false, true))))))))
        barrier();
       barrier();
       if((false))
        barrier();
      }
     if((false))
      barrier();
     if((((false)) || false))
      barrier();
     if((((false)) || false))
      barrier();
     barrier();
     if((((! (! ((! (! ((injectionSwitch.x > injectionSwitch.y))))))))))
      {
       if((true && ((false))))
        barrier();
       barrier();
      }
     if((false))
      barrier();
    }
   if((false))
    barrier();
   if((false))
    barrier();
   if((false))
    barrier();
   barrier();
   if((false))
    barrier();
  }
 if((((injectionSwitch.x < injectionSwitch.y)) && ((((injectionSwitch.x > injectionSwitch.y))))))
  barrier();
 if((false))
  barrier();
 if((((injectionSwitch.x > injectionSwitch.y))))
  barrier();
 if((((injectionSwitch.x > injectionSwitch.y))))
  barrier();
 uint workgroup_base = workgroup_size * workgroup_id;
 if((false))
  barrier();
 if(((! (! (((false) && true))))))
  {
   if((false))
    barrier();
   barrier();
  }
 if((false))
  barrier();
 if((false))
  {
   if((((injectionSwitch.x > (clamp(((injectionSwitch) * vec2(1.0, 1.0)), (((clamp(injectionSwitch, injectionSwitch, injectionSwitch))) * vec2(1.0, 1.0)), injectionSwitch)).y))))
    barrier();
   barrier();
  }
 _GLF_struct_29 _GLF_struct_replacement_29 = _GLF_struct_29(_GLF_struct_20(mat3(1.0), mat3x4(1.0), _GLF_struct_18(vec2(1.0), ((true ? ((((((((false ? (((ivec4(- 13793, - 9562, - 58445, 26982))) | ((ivec4(- 13793, (((clamp(- 9562, - 9562, - 9562))) | ((0 | (- 9562)))), ((- 58445) >> (0 | 0)), 26982)))) : ivec4(1)) >> ivec4(0, (((min(((0) ^ ((((injectionSwitch.x > injectionSwitch.y)) ? (mix(- 63084, 6380, false)) : 0))), 0)) | ((min(((min(((0) ^ ((((injectionSwitch.x > injectionSwitch.y)) ? (mix(- 63084, 6380, false)) : 0))), 0)) << 0), min(((0) ^ ((((injectionSwitch.x > injectionSwitch.y)) ? (mix(- 63084, 6380, false)) : 0))), 0)))))), 0, 0)) | ivec4(0, 0, 0, 0)))) ^ (ivec4(0, 0, 0, 0) & ivec4(51168, (min(79020, 79020)), 55493, (clamp(84264, 84264, ((false ? (- 82413) : (0 | (84264))))))))))) : (((mix(ivec4(96046, 98320, - 52211, - 53236).gbga, (~ ivec4(97878, 54765, - 20272, 24234)), bvec4(false, (! (! (false))), false, (bool(bool(true)))))) | (mix(ivec4(96046, 98320, - 52211, - 53236).gbga, (~ ivec4(97878, 54765, - 20272, 24234)), bvec4(false, (! (! (false))), false, (bool(bool(true))))))))))), _GLF_struct_19(vec4(1.0), 1, (mat4(0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0) + (mat4(1.0))))), _GLF_struct_25(mat2(1.0), _GLF_struct_21(vec4(1.0), uvec3(1u), bvec4((bool((bvec2(bvec3(bvec2(true, false), ((injectionSwitch.x > injectionSwitch.y))))))))), _GLF_struct_22(ivec2(1), vec2(1.0), uvec2((((uint(uvec2(1u, 1u)))) + (0u & 62502u))), mat4((mix(float(1.0), float(((- 6.6))), bool(false))))), _GLF_struct_23(mat3((((((float(mat3x2(((min(max(1.0, ((min((1.0), (1.0))) / (float(mat4(((false ? (- 1.2) : 1.0)), 1.0, (injectionSwitch.y), 1.0, 0.0, (injectionSwitch.y), 1.0, 0.0, 0.0, exp(tan(0.0)), 1.0, 1.0, (injectionSwitch.x), 1.0, determinant(mat3(determinant(mat2(0.0, 0.0, 1.0, 0.0)), 0.0, 0.0, 0.0, 0.0, abs(0.0), 1.0, 0.0, 0.0)), 0.0))))), max(1.0, ((min((1.0), (1.0))) / (float(mat4(((false ? (- 1.2) : 1.0)), 1.0, (injectionSwitch.y), 1.0, 0.0, (injectionSwitch.y), 1.0, 0.0, 0.0, exp(tan(0.0)), 1.0, 1.0, (injectionSwitch.x), 1.0, determinant(mat3(determinant(mat2(0.0, 0.0, 1.0, 0.0)), 0.0, 0.0, 0.0, 0.0, abs(0.0), 1.0, 0.0, 0.0)), 0.0)))))))), 0.0, (dot(vec2(1.0, 0.0), vec2(1.0, 0.0))), 0.0, 0.0, 1.0)))) * 1.0)) * 1.0)), mat3x2(((true ? 1.0 : (- 8.2)))), mat3x4(1.0), ((uvec3(1u)) / uvec3(1u, 1u, 1u)), mat4x3(1.0), mat4x2(1.0), mat2x3(1.0)), _GLF_struct_24(1, vec2(1.0), vec3(1.0), uvec2(1u))), 1, ivec3((int(((ivec3(1, ((1 << (int(1))) >> (int(1))), (0 | (1)))) / ivec3(1, 1, 1))))), _GLF_struct_27(_GLF_struct_26(ivec3(1), uvec2(1u), bvec2(true), ivec4(1), (uvec3(0u, 0u, 0u) | ((((~ (~ (((uvec3(1u))) | (uvec3(0u, 0u, ((((false ? (subgroup_size) : 0u))) << 0u)) << (uvec3(1u)))))))) | (((~ (~ (((uvec3(((0u >> (uint(7u))) | (1u))))) | (((uvec3(0u, 0u, 0u)) ^ uvec3(0u, 0u, 0u)) << (uvec3(1u)))))))))), (~ (~ (((ivec3(1)) >> ivec3(0, 0, 0)))))), 1), _GLF_struct_28(1.0, ((workgroup_base + (((((true ? ((min(((subgroup_id) * 1u) + 0u, (uint(uvec3(((subgroup_id) * 1u) + 0u, 0u, 0u)))))) : (workgroup_size))))) / 1u) * subgroup_size) + 0u) + _GLF_struct_replacement_17._f1.subgroup_local_id), mat4(1.0));
 if((false))
  barrier();
 _GLF_struct_14 _GLF_struct_replacement_14 = _GLF_struct_14(ivec4(1), _GLF_struct_1(_GLF_struct_0(((true ? ivec3(1) : (ivec3(- 31073, 98651, 5248)))), mat4(1.0), 1.0, mat2x4(((mix(float((2.2)), float((true ? ((1.0) / 1.0) : (- 0.4))), bool(true))))), vec3(1.0), 1.0), mat3x4(((((false ? (distance(vec4(- 94.82, 56.42, 4.6, 3371.6375), vec4(5.1, - 8.3, - 1664.6540, - 7.4))) : (bool(bvec4(false, ((injectionSwitch.x < injectionSwitch.y)), true, ((injectionSwitch.x > injectionSwitch.y))))) ? (- 77.63) : (clamp((min(1.0, 1.0)), (float(mat3(1.0, sqrt(1.0), (injectionSwitch.x), log(abs(1.0)), 1.0, 1.0, 0.0, 0.0, 1.0))), 1.0))))))), mat3x2(1.0)), _GLF_struct_6(_GLF_struct_2(bvec3((bool((bvec3(bvec4(bvec3(true, true, true), true)))))), vec3(1.0), bvec2(true), true, uvec4(1u)), _GLF_struct_3(uvec4(1u), mat2((((float(mat2(clamp(mix(float(((1.0) - 0.0)), float((981.755)), bool(false)), mix(float(((1.0) - 0.0)), float((981.755)), bool(false)), (min(mix(float(((min(((true ? (1.0) - 0.0 : (2482.8231))), (1.0 * ((1.0) - 0.0)))))), (mix(float(float((981.755))), (min(float((7.2)), (1.0 * (float((7.2)))))), bool(false))), bool(false)), mix(float(((1.0) - 0.0)), float((981.755)), bool(false))))), 0.0, 0.0, 0.0))))))), (~ (~ (1))), _GLF_struct_4(1.0, ((ivec4(1)) - ivec4(0, 0, 0, 0))), mat4x2(1.0), 1u, _GLF_struct_5(mat2x3(1.0), mat3x2(1.0), mat4x2(1.0), mat3x2((max(1.0, 1.0))))), _GLF_struct_10((uint(uvec2(workgroup_base, (0u << (uint(0u)))))) + ((uint((injectionSwitch.y)) * (~ (~ (((subgroup_id) >> 0u)))))) * subgroup_size + ((((false ? (workgroup_base) : ((0u | ((_GLF_struct_replacement_17._f1.subgroup_local_id + 1) % subgroup_size)) ^ uint((injectionSwitch.x))))))), vec4(1.0), _GLF_struct_7(vec2(1.0), mat2x3(1.0), mat2x4(1.0)), _GLF_struct_8(mat2x3(1.0)), _GLF_struct_9(ivec3(((0 | ((int(ivec4((((true ? 1 : (70614)))), 1, 1, 1))))) | ((((false ? (- 85464) : 0))) | (((0) ^ 0))))), bvec4(true), mat2(1.0), 1.0, uvec3(1u))), _GLF_struct_13(_GLF_struct_11(mat2x4(1.0), bvec3(true), mat4x3(1.0), uvec4(((false ? (subgroup_id) : 1u))), 1u, uvec2(1u)), bvec4(true), 1.0, _GLF_struct_12((bvec2(bvec2(bvec2((! (! ((! (! (! ((! (true))))))))))))), vec3(((0.0 + (((clamp(1.0, 1.0, 1.0)) / 1.0)))))), vec4(1.0), ivec4((1 * ((clamp((0 ^ ((int(((ivec4(0, ((0) - (0 << (int(5)))), 0, 0) | (ivec4(0, 0, 0, ((clamp(int(((false ? (ivec4(54446, 94268, - 84962, 79313)) : ivec4((0 + (((true ? 0 : (72239))))), 1, 1, int(((vec2(mat4(injectionSwitch, 0.0, 0.0, 1.0, 1.0, 0.0, sqrt(0.0), 0.0, 1.0, 1.0, 1.0, 0.0, 1.0, 0.0, 1.0))).y)))))), ((int(((false ? (ivec4(54446, 94268, - 84962, 79313)) : ivec4((0 + (((true ? 0 : (72239))))), 1, 1, int((injectionSwitch.y))))))) * 1), int(((false ? (ivec4(54446, 94268, - 84962, 79313)) : ivec4((0 + (((true ? 0 : (72239))))), 1, 1, int((injectionSwitch.y)))))))))) ^ ivec4(0, 0, 0, 0))) + (((ivec4((~ (~ (1))), 1, (((max(0, 0))) | ((~ (((false ? (- 11828) : ~ (0))))))), (~ (~ (1))))) | (ivec4(1, 1, 0, 1))))))))), (int(((ivec4(0, ((0) - (0 << (int(5)))), 0, 0) | (ivec4(0, 0, 0, ((clamp(int(((false ? (ivec4(54446, 94268, - 84962, 79313)) : ivec4((0 + (((((false ? (66192) : true ? 0 : (72239))))))), 1, 1, int((injectionSwitch.y)))))), ((int(((false ? (ivec4(54446, 94268, - 84962, 79313)) : ivec4((0 + (((true ? 0 : (72239))))), 1, 1, int((injectionSwitch.y))))))) * 1), int(((false ? (ivec4(54446, 94268, - 84962, 79313)) : ivec4((0 + (((true ? 0 : (72239))))), 1, 1, int((injectionSwitch.y)))))))))) ^ ivec4(0, 0, 0, 0))) + (((ivec4((~ (~ (1))), 1, (((max(0, 0))) | ((~ (((false ? (- 11828) : ~ (0))))))), 1)) | (ivec4(1, 1, 0, 1))))))), (((int(((ivec4(0, ((0) - (0 << (int(5)))), 0, 0) | (ivec4(0, 0, 0, ((clamp(int(((false ? (ivec4(54446, 94268, - 84962, 79313)) : ivec4((0 + (((true ? 0 : (72239))))), 1, 1, int((injectionSwitch.y)))))), ((int(((false ? (ivec4(54446, 94268, - 84962, 79313)) : ivec4((0 + (((true ? 0 : (72239))))), 1, 1, int((injectionSwitch.y))))))) * 1), int(((false ? (ivec4(54446, (0 ^ (94268)), - 84962, 79313)) : ivec4((0 + (((true ? 0 : (72239))))), 1, 1, int((injectionSwitch.y)))))))))) ^ ivec4(((((0) >> 0)) << 0), 0, 0, 0))) + (((ivec4((~ ((clamp(~ (1), ~ (1), (clamp(~ (1), ~ (1), ~ (1))))))), 1, (((max(0, 0))) | ((~ (((false ? (- 11828) : ~ (0))))))), 1)) | (ivec4(1, 1, 0, 1)))))))) | ((~ (~ ((int(((ivec4(0, ((0) - (0 << (int(5)))), 0, 0) | (ivec4(0, 0, 0, ((clamp(int(((false ? (ivec4(54446, 94268, - 84962, 79313)) : ivec4((0 + (((true ? 0 : (72239))))), 1, 1, int((injectionSwitch.y)))))), ((int(((false ? (ivec4(54446, 94268, - 84962, 79313)) : ivec4((0 + (((true ? 0 : (72239))))), 1, 1, int((injectionSwitch.y))))))) * 1), int(((false ? (ivec4(54446, 94268, - 84962, 79313)) : ivec4((0 + (((true ? 0 : (72239))))), 1, 1, int((injectionSwitch.y)))))))))) ^ ivec4(0, 0, 0, 0))) + (ivec4(0, 0, 0, 0) ^ ((((ivec4((~ (~ (((((false ? ((32553 | - 56586)) : 1))) / 1)))), 1, (((max(0, 0))) | ((~ (((false ? (- 11828) : ~ (0))))))), 1)) | (ivec4(1, 1, 0, 1)))))))))))))))))))), bvec2(true), vec3(1.0));
 if((false))
  {
   if((false))
    barrier();
   if((((injectionSwitch.x > ((injectionSwitch.y) * sqrt(1.0))))))
    barrier();
   barrier();
  }
 if(((((mix(vec2((8725.7784), (injectionSwitch)[1]), vec2((injectionSwitch)[0], (2.2)), bvec2((! (! (true))), (((bool(bvec2(((injectionSwitch.x > injectionSwitch.y)), false))) || false))))).x > injectionSwitch.y))))
  barrier();
 if((false))
  {
   if((((injectionSwitch.x > injectionSwitch.y))))
    barrier();
   if((! (! ((false)))))
    barrier();
   barrier();
   if((false))
    barrier();
  }
 ((((injectionSwitch.x < injectionSwitch.y)) ? buf[_GLF_struct_replacement_29._f5.virtual_gid] = 1 : (subgroup_size)));
 if((false))
  barrier();
 if((((injectionSwitch.x > injectionSwitch.y))))
  {
   if((((injectionSwitch.x > injectionSwitch.y))))
    barrier();
   barrier();
  }
 if((((injectionSwitch.x > injectionSwitch.y))))
  barrier();
 if(((false || ((! (! (false)))))))
  barrier();
 if((uint(uint(_GLF_struct_replacement_17._f1.subgroup_local_id + 1))) < subgroup_size)
  {
   if((false))
    barrier();
   if((((injectionSwitch.x > injectionSwitch.y))))
    {
     if((false))
      barrier();
     barrier();
    }
   if((false))
    barrier();
   int i = ((0) - 0);
   if(((false || ((bool(bool(false)))))))
    barrier();
   if((false))
    barrier();
   if((((bool(bvec2((((injectionSwitch.x > injectionSwitch.y)) && true), ((injectionSwitch.x < injectionSwitch.y))))))))
    barrier();
   atomicStore(buf[_GLF_struct_replacement_14._f3.next_virtual_gid], uint(2), 4, 64, 4);
   if((((false)) && true))
    barrier();
  }
 else
  {
   if(((false || (false))))
    {
     if((false || (((bool(bvec4(false, true, true, true)))))))
      barrier();
     if((((injectionSwitch.x > injectionSwitch.y))))
      {
       if((false))
        barrier();
       barrier();
      }
     barrier();
     if(((bool(bvec2(((((injectionSwitch.x > injectionSwitch.y))) || false), (! (! (false))))))))
      barrier();
    }
   if((bool(bvec3((false), false, (false || (false))))))
    barrier();
   atomicStore(buf[(((~ (~ (((_GLF_struct_replacement_14._f3.next_virtual_gid) >> 0u))))) + 0u)], ((((((uint(((clamp(int(((clamp((ivec4(2, int((injectionSwitch.x)), 0, ((1) / 1))), (ivec4(2, int((injectionSwitch.x)), 0, ((1) / 1))), (ivec4(2, int((injectionSwitch.x)), 0, ((1) / 1))))) / ivec4(1, 1, 1, 1))), int(((ivec4(2, int((injectionSwitch.x)), 0, ((((1) / 1)) | (((1) / 1))))) / ivec4(1, 1, 1, 1))), int((((~ (~ ((~ (~ (ivec4(2, int((injectionSwitch.x)), 0, ((1) / 1))))))))) / ivec4(1, 1, 1, 1)))))))) | 0u)) | 0u)) | 0u), 4, ((((clamp((false ? (- 90437) : (max(64, 64))), (false ? (- 90437) : (max(64, (min((((min(((64) >> (~ (~ (0)))), ((64) >> (~ (~ (0))))))) | (64)), (clamp(64, 64, ((64) - 0)))))))), (false ? (- 90437) : (max(64, 64)))))) ^ 0)), 4);
   if((false))
    barrier();
  }
}

END

BUFFER tester DATA_TYPE uint32 SIZE 8388096 FILL 0
BUFFER expected DATA_TYPE uint32 SIZE 8388096 FILL 2
BUFFER injection DATA_TYPE vec2<float> DATA
 0.0 1.0
END

PIPELINE compute test_pipe
  ATTACH test
  BIND BUFFER tester AS storage DESCRIPTOR_SET 0 BINDING 0 
  BIND BUFFER injection AS uniform DESCRIPTOR_SET 0 BINDING 1 

END

RUN test_pipe 65532 1 1
EXPECT tester EQ_BUFFER expected
