#version 460

#ifndef REDUCER
#define _GLF_ZERO(X, Y)                   (Y)
#define _GLF_ONE(X, Y)                    (Y)
#define _GLF_FALSE(X, Y)                  (Y)
#define _GLF_TRUE(X, Y)                   (Y)
#define _GLF_IDENTITY(X, Y)               (Y)
#define _GLF_DEAD(X)                      (X)
#define _GLF_FUZZED(X)                    (X)
#define _GLF_WRAPPED_LOOP(X)              X
#define _GLF_WRAPPED_IF_TRUE(X)           X
#define _GLF_WRAPPED_IF_FALSE(X)          X
#define _GLF_SWITCH(X)                    X
#define _GLF_MAKE_IN_BOUNDS_INT(IDX, SZ)  clamp(IDX, 0, SZ - 1)
#define _GLF_MAKE_IN_BOUNDS_UINT(IDX, SZ) clamp(IDX, 0u, SZ - 1u)
#endif


layout(set = 0, binding = 1) uniform buf1 {
 vec2 injectionSwitch;
};
#extension GL_KHR_shader_subgroup_ballot : enable
#extension GL_KHR_shader_subgroup_vote : enable
#extension GL_KHR_shader_subgroup_basic : enable
#extension GL_KHR_memory_scope_semantics : enable
layout(set = 0, binding = 0) buffer Buf {
 uint buf[];
};
layout(local_size_x = 128, local_size_y = 1, local_size_z = 1) in;
void main()
{
 uint subgroup_id = gl_SubgroupID;
uint subgroup_size = 16;
 uint subgroup_local_id = gl_SubgroupInvocationID;
 uint num_workgroup = gl_NumWorkGroups.x;
 uint workgroup_size = gl_WorkGroupSize.x;
 uint workgroup_id = gl_WorkGroupID.x;
 uint workgroup_base = workgroup_size * workgroup_id;
 uint virtual_gid = workgroup_base + subgroup_id * subgroup_size + subgroup_local_id;
 uint next_virtual_gid = workgroup_base + subgroup_id * subgroup_size + ((subgroup_local_id + 1) % subgroup_size);
 atomicStore(buf[next_virtual_gid], uint(1), 4, 64, 4);
 uint read_1 = atomicLoad(buf[virtual_gid], 4, 64, 0);
 uint read_2 = atomicLoad(buf[virtual_gid], 4, 64, 0);
 if(subgroup_local_id + 1 < subgroup_size)
  {
   switch(_GLF_SWITCH(0))
    {
     case 96:
     if(true)
      {
      }
     case 0:
     int i = 0;
     atomicStore(buf[next_virtual_gid], uint(read_1 == read_2) + 1, 4, 64, 4);
     break;
     default:
     1;
    }
  }
 else
  {
   switch(_GLF_SWITCH((1 ^ 1)))
    {
     case 27:
     if(false)
      {
       vec3(-628.341, -9.5, 7.3);
       num_workgroup;
       for(       uvec2(21287u, 116060u).sstt;
 (ivec2(64747, -82018) == ivec2(71022, 51325)); log2(vec4(5433.5336, 991.517, -6.7, 29.27)))
        {
         switch(_GLF_SWITCH((0 >> _GLF_IDENTITY(int(4), _GLF_IDENTITY(int(4), (int(4)) >> 0)))))
          {
           case 84:
           vec2 _GLF_SWITCH_0_0v, _GLF_SWITCH_0_1v[94];
           case 92:
           uvec3 _GLF_SWITCH_0_2v, _GLF_SWITCH_0_3v;
           case 0:
           mat3 _GLF_SWITCH_1_0v, _GLF_SWITCH_1_1v[96], _GLF_SWITCH_1_2v;
           case 40:
           for(           workgroup_base;
 true; ivec3(77897, -63143, 31678))
            {
             int _GLF_SWITCH_1_3v;
             vec4 _GLF_SWITCH_1_4v, _GLF_SWITCH_1_5v;
             mat4x3(-9082.1594, 6.2, -7711.5592, 3912.4309, -374.219, 5.8, 6.6, -5.4, -8.4, -6.9, 7215.6616, 601.801);
             ;
             ;
             ivec2 _GLF_SWITCH_1_6v;
             bitfieldExtract(((uvec4(117364u, 126039u, 127236u, 49058u) / subgroup_local_id) & read_2), (~ -36657), _GLF_SWITCH_1_3v);
             _GLF_SWITCH_1_2v;
            }
           bvec3(true, false, false);
           case 26:
           for(mat2 _GLF_SWITCH_1_7v, _GLF_SWITCH_1_8v, _GLF_SWITCH_1_9v; true; vec2(vec4(-20.28, 5483.4564, 83.81, -5623.5576)))
            {
             mat2x4 _GLF_SWITCH_1_10v, _GLF_SWITCH_1_11v[99];
            }
           if(false)
            {
            }
           else
            {
             mat2x4 _GLF_SWITCH_1_12v[24];
             ivec4(32584, -24284, 60865, -86592);
            }
           break;
           default:
           1;
          }
        }
       {
        do
         {
          mat2(3.5, 2520.6829, -5.5, -690.840);
          ivec2(-90599, -37051);
          ;
          mat3x2(22.39, -7.8, 4.1, 85.69, -86.78, -5791.9084);
          ;
         }
        while((true && (40114 == 55918)));
        for(vec3 _GLF_SWITCH_1_13v, _GLF_SWITCH_1_14v; (mat2x4(-284.784, 9.5, 487.727, 437.116, 3985.0774, 0.3, -1.7, 474.690) == mat2x4(-5.9, 0.6, -6423.8097, 5360.7148, 49.44, 1806.4435, 79.26, 82.25)); mat2x3(-5.5, 9.7, 6719.6712, 6.6, 5699.1100, 6554.6239))
         {
          mat4 _GLF_SWITCH_1_15v[65];
          mat2x4(8.0, -9.2, -62.64, 7499.2632, 4338.8527, 4.5, -407.530, 7624.2992);
         }
        mat3x2 _GLF_SWITCH_1_16v, _GLF_SWITCH_1_17v, _GLF_SWITCH_1_18v;
        (uvec2(39094u, 40446u) % uvec2(122408u, 26372u));
        {
         (mat4x2(-10.34, -1163.3981, 4673.9907, -8233.5884, 3264.7694, 822.650, -31.30, 9.9) * mat3x4(105.879, -2.6, -41.95, 6847.4720, 408.979, 67.92, -315.275, 46.78, -7.6, 6.2, 6372.1489, -9953.4614));
         mat3 _GLF_SWITCH_1_19v;
         mat4 _GLF_SWITCH_1_20v[75], _GLF_SWITCH_1_21v;
         mat2(0.9, -5.4, 5.9, -431.953);
         bvec2(true, false).grg;
         uvec2 _GLF_SWITCH_1_22v, _GLF_SWITCH_1_23v;
         mat3(_GLF_SWITCH_1_21v);
        }
       }
       mat2x3(927.892, -50.36, -8175.4268, -67.75, -7.8, 492.935);
       (ivec3(-58791, 25627, -61416) / ivec3(-79956, -59907, -1773));
       any(bvec4(false, false, true, true));
      }
     else
      {
       while(false)
        {
         vec3(8483.8182, 4981.1133, -90.97);
         outerProduct(vec3(557.234, 328.775, -9.8), acosh(vec4(-90.71, 24.42, 4.5, -4604.7215)));
         while((ivec2(-42144, 86602) != bitCount(bitCount(ivec2(78710, 73961)))))
          {
           mat4x3(mat2x4(995.165, -9.6, 4.9, 8.6, -33.39, -0.4, 3.6, 787.329));
           uvec3 _GLF_SWITCH_1_24v, _GLF_SWITCH_1_25v, _GLF_SWITCH_1_26v;
           mat2x3(-3967.8551, -3.9, 649.541, -919.451, 708.356, 4.5);
           mat4 _GLF_SWITCH_1_27v;
           mix(injectionSwitch, cos(injectionSwitch), 9123.3962);
           mat3x2 _GLF_SWITCH_1_28v, _GLF_SWITCH_1_29v, _GLF_SWITCH_1_30v;
           bvec4 _GLF_SWITCH_1_31v, _GLF_SWITCH_1_32v;
          }
        }
      }
     case 93:
     ;
     case 0:
     case 30:
     case 18:
     atomicStore(buf[next_virtual_gid], uint(read_1 == read_2) + 1, 4, 64, 4);
     break;
     case 9:
     {
      for(      not(bvec4(false, false, true, true).ps);
 true; workgroup_base)
       {
        bool _GLF_SWITCH_1_33v;
        if(any(bvec4(true, false, false, true)))
         {
          outerProduct(vec4(9.4, -39.03, -9.6, 338.388), (-7628.4002 * vec2(-3.4, 6.9)));
          mat4x2(-2.4, -7.9, 5.7, 5916.8325, -8099.5264, -2.6, 76.22, 6.5);
          mat2x3 _GLF_SWITCH_1_34v;
          ivec4(-10565, -35863, 94732, 76416);
          uvec2 _GLF_SWITCH_1_35v, _GLF_SWITCH_1_36v;
          bvec3 _GLF_SWITCH_1_37v, _GLF_SWITCH_1_38v, _GLF_SWITCH_1_39v;
          isinf(vec4(-2680.8847, -804.771, 3657.4008, 8.7));
         }
        else
         {
          uvec3(78681u, 81958u, 37489u);
          (mat4x2(7819.4084, 0.8, 106.714, -4113.4208, -2239.4247, 4.7, -677.089, -0.6) * mat2x4(-532.551, 0.2, -5.9, 3963.6162, -33.25, 5.9, 2513.4162, 648.127));
          vec3(5550.3982, -9.7, 60.45);
         }
        {
         switch(_GLF_SWITCH(0))
          {
           case 42:
           vec4 _GLF_SWITCH_0_0v[97], _GLF_SWITCH_0_1v;
           case 55:
           (727.489 - ((mat2x3(-0.4, -9.2, 55.71, -66.16, 8887.5444, -3.5) / mat2x3(-0.8, 57.19, 6.6, -6589.2651, 8.7, -9.5)) * mat2(-70.22, -105.748, -8917.1282, 215.441)));
           case 0:
           uint _GLF_SWITCH_1_40v, _GLF_SWITCH_1_41v, _GLF_SWITCH_1_42v[36];
           mat3x2(9.2, 10.27, 844.849, 6.2, 19.87, -1144.6880);
           case 34:
           case 49:
           vec2(-9.4, 8327.5564);
           case 2:
           mat4(2285.1806, -1.2, -9.3, 4.4, -7205.9868, -8.2, 4.6, -6.3, 9632.5132, -6.5, 472.991, -565.731, 63.16, -57.74, -1.0, -538.599);
           mat2x4 _GLF_SWITCH_1_43v;
           bool _GLF_SWITCH_1_44v, _GLF_SWITCH_1_45v;
           (-8.3 - (mat2(-766.336, -9320.5026, -163.594, 0.9) * mat4x2(-36.37, 7630.7846, 93.10, 937.406, -3501.5416, -43.20, -840.745, 6.2)));
           break;
           case 70:
           bool _GLF_SWITCH_0_2v;
           default:
           1;
          }
        }
        uvec3 _GLF_SWITCH_1_46v;
        if(false)
         {
          mat4x2(mat2x4(mat4x3(771.413, 565.181, -9.4, 0.5, 3743.4347, 86.48, -8068.9262, -2.2, 78.38, 328.620, -5.1, 226.487)));
          mat3(-14.10, 1.1, -95.42, 9.3, -8.2, 6.2, -2215.8423, -58.13, 1.0);
         }
        {
         mat2x3(-31.80, -27.36, -63.47, 424.743, 7.5, 0.5);
         uvec4(66768u, 132713u, 89563u, 175083u).s;
         uvec4 _GLF_SWITCH_1_47v[60], _GLF_SWITCH_1_48v[67], _GLF_SWITCH_1_49v[65];
         -31800;
        }
       }
      mat3x2 _GLF_SWITCH_1_50v[51];
      mat4x3(5.7, -6079.3520, 9.6, 4411.3513, -4199.9787, 8.8, -75.29, -30.24, -571.653, 1696.0951, 367.055, 8777.6330);
      mat3(0.4, 4.5, -282.200, -1119.5914, 1.9, 237.619, 620.992, 2421.1353, 9.6)[0];
      bvec4 _GLF_SWITCH_1_51v[89], _GLF_SWITCH_1_52v[38], _GLF_SWITCH_1_53v;
      if(false)
       {
        uvec4(subgroup_id, (subgroup_local_id % uvec3(77660u, 64974u, 119862u)));
       }
     }
     case 33:
     vec4 _GLF_SWITCH_1_54v, _GLF_SWITCH_1_55v, _GLF_SWITCH_1_56v;
     default:
     1;
    }
  }
}
