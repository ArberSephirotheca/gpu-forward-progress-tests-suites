#version 460

#ifndef REDUCER
#define _GLF_ZERO(X, Y)                   (Y)
#define _GLF_ONE(X, Y)                    (Y)
#define _GLF_FALSE(X, Y)                  (Y)
#define _GLF_TRUE(X, Y)                   (Y)
#define _GLF_IDENTITY(X, Y)               (Y)
#define _GLF_DEAD(X)                      (X)
#define _GLF_FUZZED(X)                    (X)
#define _GLF_WRAPPED_LOOP(X)              X
#define _GLF_WRAPPED_IF_TRUE(X)           X
#define _GLF_WRAPPED_IF_FALSE(X)          X
#define _GLF_SWITCH(X)                    X
#define _GLF_MAKE_IN_BOUNDS_INT(IDX, SZ)  clamp(IDX, 0, SZ - 1)
#define _GLF_MAKE_IN_BOUNDS_UINT(IDX, SZ) clamp(IDX, 0u, SZ - 1u)
#endif


layout(set = 0, binding = 1) uniform buf1 {
 vec2 injectionSwitch;
};
#extension GL_KHR_shader_subgroup_ballot : enable
#extension GL_KHR_shader_subgroup_vote : enable
#extension GL_KHR_shader_subgroup_basic : enable
#extension GL_KHR_memory_scope_semantics : enable
layout(set = 0, binding = 0) buffer Buf {
 uint buf[];
};
layout(local_size_x = 128, local_size_y = 1, local_size_z = 1) in;
void main()
{
 uvec4 GLF_merged3_0_2_56_2_1_16_3_1_13GLF_merged2_0_1_17_1_1_14subgroup_local_idworkgroup_sizenext_virtual_gidnum_workgroup;
 uvec2 GLF_merged2_0_1_17_1_1_14subgroup_local_idworkgroup_size;
 GLF_merged3_0_2_56_2_1_16_3_1_13GLF_merged2_0_1_17_1_1_14subgroup_local_idworkgroup_sizenext_virtual_gidnum_workgroup.xy = GLF_merged2_0_1_17_1_1_14subgroup_local_idworkgroup_size;
 uint subgroup_id = gl_SubgroupID;
uint subgroup_size = 16;
 uint subgroup_local_id = gl_SubgroupInvocationID;
 GLF_merged3_0_2_56_2_1_16_3_1_13GLF_merged2_0_1_17_1_1_14subgroup_local_idworkgroup_sizenext_virtual_gidnum_workgroup.xy.x = subgroup_local_id;
 uint num_workgroup = gl_NumWorkGroups.x;
 GLF_merged3_0_2_56_2_1_16_3_1_13GLF_merged2_0_1_17_1_1_14subgroup_local_idworkgroup_sizenext_virtual_gidnum_workgroup.w = num_workgroup;
 uint workgroup_size = gl_WorkGroupSize.x;
 GLF_merged3_0_2_56_2_1_16_3_1_13GLF_merged2_0_1_17_1_1_14subgroup_local_idworkgroup_sizenext_virtual_gidnum_workgroup.xy.y = workgroup_size;
 uint workgroup_id = gl_WorkGroupID.x;
 uint workgroup_base = GLF_merged3_0_2_56_2_1_16_3_1_13GLF_merged2_0_1_17_1_1_14subgroup_local_idworkgroup_sizenext_virtual_gidnum_workgroup.xy.y * workgroup_id;
 uint virtual_gid = workgroup_base + subgroup_id * subgroup_size + GLF_merged3_0_2_56_2_1_16_3_1_13GLF_merged2_0_1_17_1_1_14subgroup_local_idworkgroup_sizenext_virtual_gidnum_workgroup.xy.x;
 uint next_virtual_gid = workgroup_base + subgroup_id * subgroup_size + ((GLF_merged3_0_2_56_2_1_16_3_1_13GLF_merged2_0_1_17_1_1_14subgroup_local_idworkgroup_sizenext_virtual_gidnum_workgroup.xy.x + 1) % subgroup_size);
 GLF_merged3_0_2_56_2_1_16_3_1_13GLF_merged2_0_1_17_1_1_14subgroup_local_idworkgroup_sizenext_virtual_gidnum_workgroup.z = next_virtual_gid;
 uint read_1 = atomicLoad(buf[virtual_gid], 4, 64, 0);
 atomicStore(buf[GLF_merged3_0_2_56_2_1_16_3_1_13GLF_merged2_0_1_17_1_1_14subgroup_local_idworkgroup_sizenext_virtual_gidnum_workgroup.z], uint(read_1 + 1), 4, 64, 4);
 uint read_2 = atomicLoad(buf[virtual_gid], 4, 64, 0);
 if(GLF_merged3_0_2_56_2_1_16_3_1_13GLF_merged2_0_1_17_1_1_14subgroup_local_idworkgroup_sizenext_virtual_gidnum_workgroup.xy.x + 1 < subgroup_size)
  {
   switch(_GLF_SWITCH(int(_GLF_ZERO(0.0, injectionSwitch.x))))
    {
     case 29:
     mat4x2 _GLF_SWITCH_0_0v, _GLF_SWITCH_0_1v;
     case 0:
     case 78:
     case 13:
     case 55:
     case 57:
     atomicStore(buf[GLF_merged3_0_2_56_2_1_16_3_1_13GLF_merged2_0_1_17_1_1_14subgroup_local_idworkgroup_sizenext_virtual_gidnum_workgroup.z], uint(read_1 + 1 == read_2) + 1, 4, 64, 4);
     case 75:
     case 30:
     case 52:
     case 74:
     subgroupAll(false);
     break;
     case 64:
     {
      ivec3 _GLF_SWITCH_0_2v;
      uvec4(66283u, 46821u, 89499u, 158757u);
      mat2x3(-0.1, -300.089, 3.4, -7.7, 22.91, 2.5);
      {
       {
        ((uvec3(151297u, 55843u, 76875u) * uvec3(39026u, 188304u, 5282u)) << uvec3(116742u, 181740u, 69044u));
        step(vec4(9110.4500), vec4(68.38, 6908.0909, 8201.5640, -962.818));
        mat2x3 _GLF_SWITCH_0_3v;
        uvec2 _GLF_SWITCH_0_4v;
        bvec2 _GLF_SWITCH_0_5v;
        ;
       }
       for(vec2 _GLF_SWITCH_0_6v[5], _GLF_SWITCH_0_7v; false; bvec2(true, true))
        {
         float _GLF_SWITCH_0_8v, _GLF_SWITCH_0_9v[91], _GLF_SWITCH_0_10v;
         mat3 _GLF_SWITCH_0_11v;
         ;
         ;
         equal(bvec2(false, false), bvec2(true, true)).gr;
         ;
         _GLF_SWITCH_0_10v;
         ivec3 _GLF_SWITCH_0_12v, _GLF_SWITCH_0_13v;
         ivec4 _GLF_SWITCH_0_14v;
        }
       ivec2 _GLF_SWITCH_0_15v, _GLF_SWITCH_0_16v;
       mat4x3 _GLF_SWITCH_0_17v[77], _GLF_SWITCH_0_18v;
       mix(vec3(-32.12, -8.3, -8.0), vec3(8171.3202, injectionSwitch), -6413.1545);
       while((bvec4(false, true, false, false) == bvec4(false, true, false, false)))
        {
         mat3 _GLF_SWITCH_0_19v[69], _GLF_SWITCH_0_20v;
        }
      }
      do
       {
        for(float _GLF_SWITCH_0_21v, _GLF_SWITCH_0_22v[72]; false; mat2x3(60.57, 16.32, -6.2, -4835.4040, 6.6, -4189.0055))
         {
          mat2x4(-47.27, 580.202, -3.5, 835.408, -6221.5937, -934.932, -6.4, -4508.5384);
          vec4 _GLF_SWITCH_0_23v[41];
          vec2 _GLF_SWITCH_0_24v;
          mat4x2(2.3, -1.9, -9.9, -6271.9410, -226.626, -0.0, 980.840, -464.053);
          vec2(-9.2, 6.4);
          ;
          ;
         }
        mat4 _GLF_SWITCH_0_25v[10], _GLF_SWITCH_0_26v, _GLF_SWITCH_0_27v;
        {
         switch(_GLF_SWITCH(0))
          {
           case 78:
           mat4x2(1.8, -646.525, 395.362, -9160.5105, -423.840, 3.6, 525.003, -1.8);
           case 0:
           case 94:
           case 69:
           (true);
           mat3(-1.3, -1.6, 76.90, -0.2, -3970.9861, -804.653, 537.837, 6.8, -482.947);
           case 71:
           (GLF_merged3_0_2_56_2_1_16_3_1_13GLF_merged2_0_1_17_1_1_14subgroup_local_idworkgroup_sizenext_virtual_gidnum_workgroup.xy % GLF_merged3_0_2_56_2_1_16_3_1_13GLF_merged2_0_1_17_1_1_14subgroup_local_idworkgroup_sizenext_virtual_gidnum_workgroup.xy);
           (asinh(-1.4) == fma(-4.3, -6.7, 2.6));
           case 1:
           uvec2(124470u, 116177u);
           uvec4(22860u, 117489u, 141200u, 1162u);
           case 65:
           case 51:
           case 16:
           case 59:
           case 40:
           transpose(mat3x2(mat4x3(-7757.2561, 4.9, -739.167, 1.2, -113.091, 79.96, -986.980, 3550.3495, -7140.6824, -1.4, 535.062, -2.6)));
           break;
           case 86:
           uvec3(37527u, 23458u, 5120u);
           case 13:
           bvec3(false, true, true);
           default:
           1;
          }
        }
        bvec2 _GLF_SWITCH_0_28v;
       }
      while(true);
      injectionSwitch;
      uint _GLF_SWITCH_0_29v, _GLF_SWITCH_0_30v, _GLF_SWITCH_0_31v[63];
     }
     case 70:
     (mat3(-8472.0052, 9.6, -306.492, -3.0, -5816.8806, -73.36, 9445.9633, 4554.3445, -3.0) + mat3(-2.3, 3707.9676, 5.1, 88.62, 76.10, 921.809, -209.330, -9.2, 577.966));
     default:
     1;
    }
  }
 else
  {
   atomicStore(buf[GLF_merged3_0_2_56_2_1_16_3_1_13GLF_merged2_0_1_17_1_1_14subgroup_local_idworkgroup_sizenext_virtual_gidnum_workgroup.z], uint(read_1 + 1 == read_2) + 1, 4, 64, 4);
   subgroupAll(true);
  }
}
