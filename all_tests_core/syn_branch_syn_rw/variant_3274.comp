#version 460

#ifndef REDUCER
#define _GLF_ZERO(X, Y)                   (Y)
#define _GLF_ONE(X, Y)                    (Y)
#define _GLF_FALSE(X, Y)                  (Y)
#define _GLF_TRUE(X, Y)                   (Y)
#define _GLF_IDENTITY(X, Y)               (Y)
#define _GLF_DEAD(X)                      (X)
#define _GLF_FUZZED(X)                    (X)
#define _GLF_WRAPPED_LOOP(X)              X
#define _GLF_WRAPPED_IF_TRUE(X)           X
#define _GLF_WRAPPED_IF_FALSE(X)          X
#define _GLF_SWITCH(X)                    X
#define _GLF_MAKE_IN_BOUNDS_INT(IDX, SZ)  clamp(IDX, 0, SZ - 1)
#define _GLF_MAKE_IN_BOUNDS_UINT(IDX, SZ) clamp(IDX, 0u, SZ - 1u)
#endif


layout(set = 0, binding = 1) uniform buf1 {
 vec2 injectionSwitch;
};
#extension GL_KHR_shader_subgroup_ballot : enable
#extension GL_KHR_shader_subgroup_vote : enable
#extension GL_KHR_shader_subgroup_basic : enable
#extension GL_KHR_memory_scope_semantics : enable
layout(set = 0, binding = 0) buffer Buf {
 uint buf[];
};
layout(set = 0, binding = 2) buffer Checker {
 uint checker[];
};
layout(local_size_x = 128, local_size_y = 1, local_size_z = 1) in;
void main()
{
 uint subgroup_id = gl_SubgroupID;
 uint subgroup_size = gl_SubgroupSize;
 uint subgroup_local_id = gl_SubgroupInvocationID;
 uint num_workgroup = gl_NumWorkGroups.x;
 uint workgroup_size = gl_WorkGroupSize.x;
 uint workgroup_id = gl_WorkGroupID.x;
 uint workgroup_base = workgroup_size * workgroup_id;
 uint virtual_gid = workgroup_base + subgroup_id * subgroup_size + subgroup_local_id;
 uint next_virtual_gid = workgroup_base + subgroup_id * subgroup_size + ((subgroup_local_id + 1) % subgroup_size);
 uint read = atomicLoad(buf[virtual_gid], 4, 64, 0);
 atomicStore(buf[next_virtual_gid], uint(1), 4, 64, 4);
 if(subgroup_local_id + 1 < subgroup_size)
  {
   switch(_GLF_SWITCH(0))
    {
     case 0:
     case 30:
     case 41:
     int i = 0;
     case 37:
     case 93:
     atomicStore(checker[virtual_gid], read, 4, 64, 4);
     break;
     case 76:
     for(     -85.63;
 (i >= 77187); (uvec2(54301u, 59200u) >> subgroup_local_id))
      {
       mat3 _GLF_SWITCH_0_0v[50], _GLF_SWITCH_0_1v[41];
       if(false)
        {
        }
       while((false ? true : true))
        {
         switch(_GLF_SWITCH(0))
          {
           case 38:
           bvec4(false, true, true, false);
           case 0:
           case 22:
           case 47:
           case 58:
           case 51:
           switch(_GLF_SWITCH(0))
            {
             case 47:
             uvec3 _GLF_SWITCH_1_0v;
             case 50:
             mat3x4 _GLF_SWITCH_1_1v[51], _GLF_SWITCH_1_2v[22];
             case 0:
             case 52:
             case 63:
             case 54:
             case 93:
             case 7:
             switch(_GLF_SWITCH((0 << _GLF_IDENTITY(int(1), int(1)))))
              {
               case 19:
               ;
               case 0:
               case 91:
               case 79:
               case 34:
               case 62:
               case 89:
               case 60:
               uvec2 _GLF_SWITCH_0_2v, _GLF_SWITCH_0_3v;
               break;
               case 36:
               (uvec4(109571u, 62305u, 174183u, 134533u) >> uvec4(160371u, 15489u, 29455u, 172139u));
               default:
               1;
              }
             break;
             case 22:
             (ivec3(11919, -15256, 96930) << ivec3(26259, -9614, -71425));
             default:
             1;
            }
           break;
           case 48:
           ;
           default:
           1;
          }
        }
       (-36.42 - mat3x4(-41.01, -3.4, -273.059, -51.12, -1.9, 8.0, 7423.8259, -850.665, -7.2, 179.916, -8349.4434, -7.8));
       ;
       if((atomicXor(subgroup_size, workgroup_id) < (true , subgroup_size)))
        {
         switch(_GLF_SWITCH(0))
          {
           case 64:
           bvec4(true, true, true, true);
           case 0:
           case 43:
           case 70:
           case 44:
           case 94:
           case 74:
           switch(_GLF_SWITCH((88890 & 0)))
            {
             case 27:
             uvec2 _GLF_SWITCH_2_0v, _GLF_SWITCH_2_1v, _GLF_SWITCH_2_2v;
             case 0:
             {
              switch(_GLF_SWITCH(0))
               {
                case 97:
                ivec4 _GLF_SWITCH_2_0v, _GLF_SWITCH_2_1v[90], _GLF_SWITCH_2_2v[95];
                case 56:
                bvec3 _GLF_SWITCH_2_3v;
                case 0:
                greaterThanEqual(uvec2(134315u, 50074u), uvec2(97486u, 176361u)).tts;
                bvec3(false, true, true);
                case 80:
                uvec3 _GLF_SWITCH_0_4v, _GLF_SWITCH_0_5v, _GLF_SWITCH_0_6v;
                case 2:
                case 93:
                int _GLF_SWITCH_0_7v;
                bvec3(true, true, true);
                inverse(mat3(90.96, -8.1, 2275.8626, -5771.6871, -3.8, 6.9, 5654.1319, -5061.7489, 25.79));
                mat3(695.257, -83.37, 80.86, -1797.0178, -6.0, 5668.5773, 7341.4140, -25.76, 7.9);
                break;
                case 21:
                vec4 _GLF_SWITCH_2_4v[42], _GLF_SWITCH_2_5v[76];
                default:
                1;
               }
             }
             {
              (workgroup_size ^ packUnorm2x16(cos(vec2(34.20, -5622.5029))));
             }
             mat2x4(7.7, 7478.1924, -3.4, 6678.0245, -2.3, -4859.8319, -54.36, 50.86);
             case 62:
             {
              uvec3 _GLF_SWITCH_0_8v[81], _GLF_SWITCH_0_9v, _GLF_SWITCH_0_10v[20];
              ((read != virtual_gid) ^^ (ivec3(17127, 85530, 55082) == ivec3(72537, 43214, -64964)));
              intBitsToFloat(ivec2(78657, 77699));
              ;
              ;
              mat2x3 _GLF_SWITCH_0_11v[77], _GLF_SWITCH_0_12v[60], _GLF_SWITCH_0_13v;
              true;
              mat4 _GLF_SWITCH_0_14v[95], _GLF_SWITCH_0_15v, _GLF_SWITCH_0_16v;
             }
             while(true)
              {
               switch(_GLF_SWITCH(0))
                {
                 case 34:
                 mat2x3(26.13, 1.6, 8.7, 36.05, -8.3, 1.8);
                 case 80:
                 uvec2 _GLF_SWITCH_3_0v;
                 case 0:
                 case 1:
                 case 24:
                 case 20:
                 case 6:
                 switch(_GLF_SWITCH(0))
                  {
                   case 59:
                   37310;
                   case 0:
                   case 92:
                   case 3:
                   case 77:
                   mat4x3(-81.06, -4.7, -2387.9376, -0.1, 68.25, -0.0, -2203.4165, -8662.7094, -8812.4261, 9.1, -5752.7726, -9368.2168);
                   break;
                   case 63:
                   (uvec3(181911u, 116633u, 19443u) / uvec3(85710u, 49628u, 81425u));
                   case 32:
                   ((i * (i ^ ivec4(33037, 12190, -81333, 24662))) - 73984);
                   default:
                   1;
                  }
                 break;
                 case 50:
                 mat3(465.024, -29.04, -5.0, 6.2, -688.531, 405.147, -2020.7777, -5.1, 2.2);
                 default:
                 1;
                }
              }
             case 20:
             (mat4x3(802.821, -212.409, -0.7, 499.705, 2888.2832, -2.9, 851.372, -0.6, -9212.5098, -4.1, 707.601, -8.2));
             break;
             default:
             1;
            }
           break;
           case 49:
           mat3(-43.69, -6.0, 3180.5750, -4.0, -979.712, -7.4, 390.860, -55.38, -5.0);
           case 84:
           mat2(((-4590.8724 - mat3x2(329.378, -1.1, 7.8, 9.3, 30.79, 77.31)) - length(vec3(-22.36, -4.3, 7419.0138))));
           default:
           1;
          }
        }
       {
        if((uvec4(109384u, 93728u, 105719u, 178126u) != uvec4(24694u, workgroup_base, uvec2(186970u, 6924u))))
         {
          ivec3(-89530, -75897, 69462);
          (uvec2(143093u, 79937u) << workgroup_base);
          ivec3 _GLF_SWITCH_0_17v[80], _GLF_SWITCH_0_18v;
          mat4x3(-6372.2663, 847.880, -9316.1761, -85.39, -7525.3708, 3252.8181, 5.4, 12.25, 88.98, 1895.0616, -8.8, -193.556);
          uvec3(22784u, 32727u, 113301u);
          vec4 _GLF_SWITCH_0_19v;
         }
        else
         {
          bvec4 _GLF_SWITCH_0_20v, _GLF_SWITCH_0_21v[61];
          ((-63973 % ivec3(-55791, -10816, -77747)) << ivec3(76655, -10381, 58716));
          -85264;
          (38890 / ivec4(71996, 18244, -58802, -94623)[2]);
          mat4 _GLF_SWITCH_0_22v;
          pow(fract(vec2(-35.15, -4.6)), vec2(3.8, 26.56));
          bvec2 _GLF_SWITCH_0_23v;
          uvec2 _GLF_SWITCH_0_24v[52];
         }
        for(mat4x2 _GLF_SWITCH_0_25v[68], _GLF_SWITCH_0_26v, _GLF_SWITCH_0_27v; (asinh(vec4(75.29, 399.389, 637.081, -5.5)) != (vec4(-6951.6376, 2.7, 33.02, 663.107) / 9108.2173)); (-30051 | ivec3(30829, -38549, 28412)[1]))
         {
          switch(_GLF_SWITCH((0 << _GLF_IDENTITY(int(3), int(3)))))
           {
            case 84:
            vec2 _GLF_SWITCH_1_0v;
            case 52:
            mat2 _GLF_SWITCH_1_1v, _GLF_SWITCH_1_2v[65];
            case 0:
            case 23:
            smoothstep(vec3(-1.2, 5990.5974, 2478.7514), vec3(65.03, -6.7, 0.4), vec3(-28.73, -3.5, 696.776));
            case 83:
            vec4(-5.9, 7.6, 6.2, 14.63);
            case 32:
            ivec2(75698, -16099);
            case 97:
            case 27:
            mat2(4.5, -877.307, 5355.6488, -4.8);
            case 4:
            case 16:
            case 74:
            case 36:
            ;
            break;
            default:
            1;
           }
         }
        for(mat3 _GLF_SWITCH_0_28v, _GLF_SWITCH_0_29v[33]; (mat4(mat2(-2.7, 9.3, -1.7, -1.8)) == mat4(-7.1, -9733.2807, -21.35, -8724.8566, -556.577, -8545.3199, -5.9, -48.00, -7322.1096, -8.7, -4824.3603, -2404.0162, -4275.7382, 53.63, 27.14, -3.7)); mat2x3(mat3(553.793, 59.72, 3.0, 1511.2108, -4.4, -3.9, -4.5, -822.711, 7989.7328)))
         {
          ;
          mat2x3(mat2(-8407.0958, 2.9, -8.1, 4.7));
          ;
          (- transpose(mat3x4(-638.941, 2010.0860, 7174.2048, -32.82, 8.1, 74.55, -916.756, 134.050, -1.2, 5.8, 2.3, -668.289)));
          bool _GLF_SWITCH_0_30v[18], _GLF_SWITCH_0_31v, _GLF_SWITCH_0_32v;
          mat2x4 _GLF_SWITCH_0_33v[39];
          mat4x3(1.0, 77.47, 8.5, 3.2, 3.4, -8.7, -83.86, -104.075, -3.1, 4131.2240, 8.5, 0.9);
          ivec4 _GLF_SWITCH_0_34v, _GLF_SWITCH_0_35v, _GLF_SWITCH_0_36v;
          mat4(-141.671, -25.21, 1.2, -1.6, 88.01, -4.3, -3.2, -6.2, 53.45, -646.829, 2.0, -699.038, 72.80, -4.5, 3.9, 8.5);
         }
        if(((-- workgroup_base) == subgroup_local_id))
         {
          (mat3x2(4.9, 8.7, -3.5, -5680.0518, -65.67, -80.47) - mat3x2(-8085.3703, -0.8, 1.0, -7997.2121, 5858.5135, -25.00));
          read;
          int _GLF_SWITCH_0_37v[14], _GLF_SWITCH_0_38v;
          bitfieldReverse(ivec3(69069, -63417, -46584));
          mat2(59.88, 1.3, -68.74, -9.9);
          injectionSwitch;
          ;
          bvec4(false, false, true, false);
         }
        else
         {
          mat4x2(-3559.1532, -9.3, -49.48, 51.24, 1.5, -87.04, -6904.0960, 48.31);
          ;
          ;
          isnan(injectionSwitch);
          mat3x2(1.1);
          bvec2(false, true);
          (mat4x2(mat2x3(2073.5521, 6.1, 9373.9280, -4.5, 3.3, 3.5)) - -5.8);
          bvec4 _GLF_SWITCH_0_39v, _GLF_SWITCH_0_40v, _GLF_SWITCH_0_41v[87];
          bvec3 _GLF_SWITCH_0_42v, _GLF_SWITCH_0_43v, _GLF_SWITCH_0_44v;
         }
        -17.61;
        vec3(-6.9, -2043.3177, -68.45);
        {
         switch(_GLF_SWITCH(int(_GLF_ZERO(0.0, injectionSwitch.x))))
          {
           case 20:
           mat4 _GLF_SWITCH_2_0v, _GLF_SWITCH_2_1v, _GLF_SWITCH_2_2v;
           case 0:
           case 27:
           mat2(mat4(29.90, 197.687, -0.3, 257.422, 4.2, -7262.4794, 3.8, 5.4, -3133.6807, 9594.6836, -61.85, -4.4, 491.591, 924.773, 17.95, -3.0));
           case 52:
           case 64:
           case 3:
           mat4x3 _GLF_SWITCH_0_45v, _GLF_SWITCH_0_46v;
           case 45:
           case 90:
           mat2x3 _GLF_SWITCH_0_47v;
           case 50:
           bvec3 _GLF_SWITCH_0_48v, _GLF_SWITCH_0_49v;
           break;
           case 33:
           ivec3(37756, -19316, -54237);
           default:
           1;
          }
        }
        for(        (vec3(-6.1, -46.47, -451.596) , mat4x2(61.82, -4567.4818, -7405.6711, -3663.9248, -5.9, 8.0, -31.69, -30.84));
 bvec3(true, true, false)[1]; mat4x3(-0.8, 5.5, -1465.9344, 3850.3448, -9465.7567, 549.900, -52.15, -9042.7291, -899.898, 0.6, 605.200, -409.198))
         {
          mat3x2 _GLF_SWITCH_0_50v;
          (- (ivec3(64168, -41889, -24253) / ivec3(-62415, 31739, 53401)));
         }
       }
      }
     default:
     1;
    }
  }
 else
  {
   switch(_GLF_SWITCH(0))
    {
     case 0:
     case 20:
     case 9:
     case 62:
     case 27:
     case 21:
     case 1:
     atomicStore(checker[virtual_gid], read, 4, 64, 4);
     break;
     default:
     1;
    }
  }
}
